<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 11.0/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="UG_html.css" CHARSET="UTF-8" TYPE="text/css">
<table id="Topofpage" border="0" width="850" cellspacing="0" cellpadding="0"><tr><td align="left"><a href="http://www.hdfgroup.org"><img id="THG_logo" border="0" src="images/hdf_logo.jpg" width="90" height="70" alt="The HDF Group" valign="top" /></a></td><td valign="middle" align="center"><H1>HDF Userâ€™s Guide</H1><span style="font-size: 14px; font-weight: bold"><b>4.2.10</b></td><td valign="middle" align="center"><a HREF=UG_html.htm> [Top]</a> <a HREF=UG_html-6.htm> [Prev]</a><a HREF=UG_html-8.htm> [Next]</a></td></tr></table><HR></HEAD>
<BODY>
<DIV>
<span style="font-size: 14px; font-weight: bold"><a href="UG_html-17.htm">Index</a>] [<a href="UG_html-20.htm">List of Examples</a>] [<a href="UG_html-19.htm">List of Tables</a>] [<a href="UG_html-18.htm">List of Figures</a>]</DIV>
<H1 CLASS="ChapterTitle">
<A NAME="50593877_pgfId-23415"></A>Chapter 7 --	<A NAME="50593877_marker-23413"></A><A NAME="50593877_18201"></A>24-bit is it Raster Images (DF24 API)</H1>
<DIV>
<H4 CLASS="Heading1">
<A NAME="50593877_pgfId-4735"></A>	7.1	Chapter Overview<DIV>
<IMG SRC="UG_html-44.gif" ALT="">
</DIV>
</H4>
<P CLASS="Body">
<A NAME="50593877_pgfId-22829"></A>This chapter describes the 24-bit raster data model and the single-file DF24 routines available for storing and retrieving 24-bit raster images.</P>
<P CLASS="Body">
<A NAME="50593877_pgfId-22836"></A><EM CLASS="Definition">
Note</EM>
: This interface is now deprecated and superseded by the <A HREF="UG_html-8.htm#50593878_29022" CLASS="XRef">General Raster Images (GR API)</A> interface (Chapter 8.)</P>
<DIV>
<H5 CLASS="Heading2">
<A NAME="50593877_pgfId-2601"></A>	7.2	The 24-Bit Raster Data Model<DIV>
<IMG SRC="UG_html-44.gif" ALT="">
</DIV>
</H5>
<P CLASS="Body">
<A NAME="50593877_pgfId-22768"></A>T<A NAME="50593877_marker-22765"></A><A NAME="50593877_marker-22766"></A>he <A NAME="50593877_marker-22767"></A><EM CLASS="Definition">
24-bit raster image set</EM>
, or <EM CLASS="Definition">
RIS24</EM>
, data model supports two primary data objects: two-dimensional 24-bit raster images and dimensions. The primary member of the set is the <A NAME="50593877_marker-22769"></A><EM CLASS="Definition">
24-bit raster image</EM>
, a two-dimensional array of pixels or picture elements. Each pixel is represented by three 8-bit numbers of image data. An optional compression method describes the method used, if any, to compress the image. <A HREF="UG_html-7.htm#50593877_89021" CLASS="XRef">Figure 7a</A> shows the contents of a 24-bit raster image set.</P>
<DIV>
<H6 CLASS="Figure">
<A NAME="50593877_pgfId-22775"></A><DIV>
<IMG SRC="UG_html-45.gif" ALT="">
</DIV>
FIGURE 7a	<A NAME="50593877_89021"></A>2<A NAME="50593877_marker-22774"></A>4-Bit Raster Image Set Contents</H6>
<DIV>
<IMG SRC="UG_html-46.gif" ALT="">
</DIV>
</DIV>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593877_pgfId-22777"></A>	7.2.1	Re<A NAME="50593877_marker-22776"></A>quired 24-Bit Raster Image Data Set Objects</H6>
<P CLASS="Body">
<A NAME="50593877_pgfId-2009"></A>All 24-bit raster images must contain image data and a dimension record. These objects are created by the HDF library using information provided at the time the image is written to file. </P>
<DIV>
<H6 CLASS="Heading4">
<A NAME="50593877_pgfId-2010"></A>	7.2.1.1	24-B<A NAME="50593877_marker-7129"></A>it Raster Image Data Representation</H6>
<P CLASS="Body">
<A NAME="50593877_pgfId-2011"></A>The <EM CLASS="Definition">
24-bit raster image object contains a set of </EM>
24-bit pixel values, each of which has three 8-bit components; one for the red, one for the green, and one for the blue color component of the image. These values, referred to <A NAME="50593877_marker-7130"></A>as <EM CLASS="Definition">
RGB values</EM>
, are arranged in one of three specific ways, as described in <A HREF="UG_html-7.htm#50593877_11318" CLASS="XRef">Interlace Modes</A>. The pixel values are arranged in rows, painted from left-to-right, top-to-bottom. As each pixel in a 24-bit image is represented in the image data by three 8-bit numbers, palettes are unnecessary and are not included in the 24-bit raster data model.</P>
<P CLASS="Body">
<A NAME="50593877_pgfId-2245"></A>As an example, consider a stream of 24-bit numbers representing a raster image (Fig. 4.1a). To display the image, the color associated with the first number in the data stream appears in the upper left corner of the image. The remainder of the first line is then painted from left-to-right using as many values from the data stream as necessary to complete the line. The remainder of the rows are similarly painted from left-to-right, top-to-bottom until every value in the data stream appears as one pixel in the image. </P>
</DIV>
<DIV>
<H6 CLASS="Figure">
<A NAME="50593877_pgfId-5011"></A><DIV>
<IMG SRC="UG_html-45.gif" ALT="">
</DIV>
FIGURE 7b	<A NAME="50593877_36368"></A>The Numerical Representation of a 24-Bit Raster Image</H6>
<DIV>
<IMG SRC="UG_html-47.gif" ALT="">
</DIV>
<DIV>
<H6 CLASS="Heading4">
<A NAME="50593877_pgfId-5012"></A>	7.2.1.2	24-Bi<A NAME="50593877_marker-7131"></A>t Raster Image Dimension </H6>
<P CLASS="Body">
<A NAME="50593877_pgfId-5021"></A>The <EM CLASS="Definition">
dimensions</EM>
 of an image are the height and width of the image in pixels.<A NAME="50593877_marker-7122"></A></P>
</DIV>
</DIV>
</DIV>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593877_pgfId-7118"></A>	7.2.2	Optio<A NAME="50593877_marker-7195"></A>nal 24-Bit Raster Image Data Set Objects</H6>
<DIV>
<H6 CLASS="Heading4">
<A NAME="50593877_pgfId-3851"></A>	7.2.2.1	Compr<A NAME="50593877_marker-7132"></A>ession Method </H6>
<P CLASS="Body">
<A NAME="50593877_pgfId-3932"></A>The only 24-bit compression method currently available in HDF is the JPEG algorithm . The applicable HDF compression tags are <EM CLASS="DefName">
COMP_JPEG</EM>
<A NAME="50593877_marker-7187"></A>, and <EM CLASS="DefName">
COMP_NONE</EM>
<A NAME="50593877_marker-7188"></A>. <EM CLASS="Body">
<A HREF="UG_html-7.htm#50593877_86571" CLASS="XRef">24-Bit Raster Image Compression Method List</A></EM>
 The HDF tags <EM CLASS="DefName">
COMP_JPEG</EM>
 and <EM CLASS="DefName">
COMP_NONE</EM>
 are defined as the values <EM CLASS="DefName">
2</EM>
, and <EM CLASS="DefName">
0</EM>
 respectively in the &quot;hdf.h&quot; header file. </P>
<DIV>
<H6 CLASS="Table">
<A NAME="50593877_pgfId-3906"></A><DIV>
<IMG SRC="UG_html-45.gif" ALT="">
</DIV>
24-Bit Raster Image Compression Method List<A NAME="50593877_86571"></A></H6>
<TABLE>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-8107"></A>Compression Method</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-8109"></A>Type</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-8111"></A>Compression Code</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-8113"></A>Requirements</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8115"></A>None</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8117"></A>Lossless</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8119"></A>COMP_NONE</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8121"></A>Image data only (default setting).</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8123"></A>JPEG</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8125"></A>Lossy </P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8127"></A>COMP_JPEG</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8129"></A>Image data, quality factor and compatibility factor.</P>
</TD>
</TR>
</TABLE>
</DIV>
</DIV>
<DIV>
<H6 CLASS="BodyBold">
<A NAME="50593877_pgfId-3910"></A>JPEG C<A NAME="50593877_marker-7135"></A>ompression</H6>
<P CLASS="Body">
<A NAME="50593877_pgfId-3911"></A>The <EM CLASS="Definition">
JPEG</EM>
 compression method is a lossy compression algorithm whose use is recommended for photographic or scanned images. Using JPEG compression to reduce the size of an image changes the values of the pixels and therefore may alter the meaning of the corresponding data.</P>
<P CLASS="Body">
<A NAME="50593877_pgfId-5236"></A>For more information on the JPEG algorithm, refer to <A HREF="UG_html-6.htm#50593876_20224" CLASS="XRef">8-Bit Raster Images (DFR8 API)</A>.</P>
<DIV>
<H6 CLASS="Heading4">
<A NAME="50593877_pgfId-5034"></A>	7.2.2.2	<A NAME="50593877_11318"></A>Interla<A NAME="50593877_marker-7136"></A>ce Modes</H6>
<P CLASS="Body">
<A NAME="50593877_pgfId-5035"></A>Because graphics applications and hardware devices vary in the way they access image data, HDF supports three interlace formats. By storing an image using a format that is consistent with the expected application or device, it is possible to achieve substantial improvements in performance.</P>
<P CLASS="Body">
<A NAME="50593877_pgfId-5036"></A>HDF provides three options for organizing the color components in 24-bit raster images. These options consist of pixel interlacing, scan-line interlacing, and scan-plane interlacing. (See <A HREF="UG_html-7.htm#50593877_17407" CLASS="XRef">Figure 7c</A>.) Storing the color components grouped by pixel, as in red-green-blue, red-green-blue, etc., is calle<A NAME="50593877_marker-7139"></A>d <EM CLASS="Definition">
pixel interlacing</EM>
. Storing the color components by line, as in one row of red, one row of green, one row of blue, one row red, etc., is calle<A NAME="50593877_marker-7140"></A>d <EM CLASS="Definition">
scan-line interlacing</EM>
. Finally, storing the color components grouped by color plane, as in the red components first, the green components second, and the blue components last, is called <EM CLASS="Definition">
scan-plane interlacing</EM>
<A NAME="50593877_marker-7141"></A>. Unless otherwise specified, the HDF 24-bit raster model assumes that all 24-bit images are stored using pixel interlacing.</P>
</DIV>
</DIV>
<DIV>
<H6 CLASS="Figure">
<A NAME="50593877_pgfId-5150"></A><DIV>
<IMG SRC="UG_html-45.gif" ALT="">
</DIV>
FIGURE 7c	<A NAME="50593877_17407"></A>RGB Interlace Format for 24-Bit Raster Images</H6>
<DIV>
<IMG SRC="UG_html-48.gif" ALT="">
</DIV>
<P CLASS="Body">
<A NAME="50593877_pgfId-5151"></A>An interlace format describes both the physical format of an image as it is stored in memory and in the file. When writing to a file, HDF stores a 24-bit image using the same interlace format as it has in memory. However, when reading from a file, it is possible to make the in-core interlacing mode different from that used in the file. The following table contains a summary of the interlacing format available in the DF24 interface.</P>
<DIV>
<H6 CLASS="Table">
<A NAME="50593877_pgfId-5189"></A><DIV>
<IMG SRC="UG_html-45.gif" ALT="">
</DIV>
24-Bit Raster Image Interlace Format</H6>
<TABLE>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-8066"></A>format</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-8068"></A>Description</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-8070"></A>DF24setil or d2setil Parameter</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-8072"></A>Size of Image Array</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8074"></A>Pixel</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8076"></A>Components grouped by pixel.</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8078"></A>DFIL_PIXEL</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8080"></A>Width x Height x 3</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8082"></A>Scan-line</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8084"></A>Components grouped by row.</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8086"></A>DFIL_LINE</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8088"></A>Width x 3 x Height</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8090"></A>Scan-plane</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8092"></A>Components grouped by plane.</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8094"></A>DFIL_PLANE</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8097"></A>3 x Width x Height<A NAME="50593877_marker-8096"></A></P>
</TD>
</TR>
</TABLE>
</DIV>
</DIV>
</DIV>
</DIV>
<DIV>
<H5 CLASS="Heading2">
<A NAME="50593877_pgfId-2718"></A>	7.3	Th<A NAME="50593877_marker-7142"></A>e 24-Bit Raster Interface<DIV>
<IMG SRC="UG_html-44.gif" ALT="">
</DIV>
</H5>
<P CLASS="Body">
<A NAME="50593877_pgfId-2720"></A>The HDF library currently contains several routines for storing 24-bit raster images in the HDF format. The <EM CLASS="FunctionName">
DF24addimage</EM>
, <EM CLASS="FunctionName">
DF24putimage</EM>
, and <EM CLASS="FunctionName">
DF24getimage</EM>
 routines are sufficient for most reading and writing operations. </P>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593877_pgfId-2722"></A>	7.3.1	24-B<A NAME="50593877_marker-7143"></A>it Raster Image Library Routines</H6>
<P CLASS="Body">
<A NAME="50593877_pgfId-2724"></A>The names of all C routines in the 24-bit raster image interface are prefaced by &quot;DF24&quot;. The equivalent FORTRAN-77 routines are prefaced by &quot;d2&quot;. These routines are divided into the following categories:</P>
<UL>
<LI CLASS="Bullet">
<A NAME="50593877_pgfId-2726"></A><EM CLASS="Definition">
Write routines</EM>
 create raster image sets and store them in new files or append them to existing files. </LI>
<LI CLASS="Bullet">
<A NAME="50593877_pgfId-2728"></A><EM CLASS="Definition">
Read routines</EM>
 determine the dimensions and interlace format of an image set, read the actual image data, and provide sequential or random read access to any raster image set.</LI>
</UL>
<P CLASS="Body">
<A NAME="50593877_pgfId-2734"></A>The DF24 function calls are more explicitly defined in <A HREF="UG_html-7.htm#50593877_94530" CLASS="XRef">Table 7C</A> and on their respective pages in the <EM CLASS="TextItalic">
HDF Reference Manual</EM>
.</P>
<DIV>
<H6 CLASS="Table">
<A NAME="50593877_pgfId-2739"></A><DIV>
<IMG SRC="UG_html-45.gif" ALT="">
</DIV>
DF24 L<A NAME="50593877_marker-7144"></A>ibrary Routines<A NAME="50593877_94530"></A></H6>
<TABLE>
<TR>
<TH ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-8139"></A>Purpose</P>
</TH>
<TH ROWSPAN="1" COLSPAN="2">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-8141"></A>Routine Name</P>
</TH>
<TH ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-8145"></A>Description</P>
</TH>
</TR>
<TR>
<TH ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-8149"></A>C </P>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-8151"></A>FORTRAN-77</P>
</TH>
</TR>
<TR>
<TD ROWSPAN="7" COLSPAN="1">
<P CLASS="TableCategory">
<A NAME="50593877_pgfId-8155"></A>Write</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8157"></A>DF24addimage</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8159"></A>d2aimg</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8161"></A>Appends a 24-bit raster image to a file.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8797"></A>DF24lastref</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8799"></A>d2lref</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8801"></A>Reports the last reference number assigned to a 24-bit raster image.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8165"></A>DF24putimage</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8167"></A>d2pimg</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8169"></A>Writes a 24-bit raster image to file by overwriting all existing data.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8173"></A>DF24setcompress</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8175"></A>d2scomp</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8177"></A>Sets the compression method for the next raster image written to the file.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8181"></A>DF24setdims</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8183"></A>d2sdims</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8185"></A>Sets the dimensions for the next raster image written to the file.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8189"></A>DF24setil</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8191"></A>d2setil</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8193"></A>Sets the interlace format of the next raster image written to the file.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8205"></A>None</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8207"></A>d2sjpeg</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8209"></A>Fortran-specific routine for setting the parameters needed for the JPEG compression algorithm.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="6" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8211"></A>Read</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8214"></A>DF24getdims</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8216"></A>d2gdims</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8218"></A>Retrieves the dimensions before reading the next raster image.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8222"></A>DF24getimage</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8224"></A>d2gimg</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8226"></A>Reads the next 24-bit raster image.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8829"></A>DF24nimage</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8831"></A>d2nimg</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8833"></A>Reports the number of 24-bit raster images in a file.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8821"></A>DF24readref</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8823"></A>d2rref</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8825"></A>Reads 24-bit raster image with the specified reference number.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8230"></A>DF24reqil</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8232"></A>d2reqil</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8234"></A>Retrieves the interlace format before reading the next raster image.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8246"></A>DF24restart</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593877_pgfId-8248"></A>d2first</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-8250"></A>Returns to the first 24-bit raster image in the file.</P>
</TD>
</TR>
</TABLE>
</DIV>
</DIV>
</DIV>
<DIV>
<H5 CLASS="Heading2">
<A NAME="50593877_pgfId-2745"></A>	7.4	Wr<A NAME="50593877_marker-7145"></A>iting 24-Bit Raster Images<DIV>
<IMG SRC="UG_html-44.gif" ALT="">
</DIV>
</H5>
<P CLASS="Body">
<A NAME="50593877_pgfId-2747"></A>The DF24 programming model for writing a 24-bit raster image set is as follows:</P>
<DIV>
<H6 CLASS="FM1Step">
<A NAME="50593877_pgfId-2749"></A>Set the interlace format if the interlacing is to be different from pixel interlacing. (optional)</H6>
<OL>
<LI CLASS="Step">
<A NAME="50593877_pgfId-2751"></A>2.	Set the compression type if the image is to be compressed. (optional)</LI>
<LI CLASS="Step">
<A NAME="50593877_pgfId-2753"></A>3.	Write the raster data to the file. </LI>
</OL>
<P CLASS="Body">
<A NAME="50593877_pgfId-3999"></A>Steps 1 and 2 can be invoked in any order, as long as they are executed before Step 3. By default, images are stored uncompressed using pixel interlacing.</P>
</DIV>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593877_pgfId-4001"></A>	7.4.1	Writing a 24-Bit Raster Image: DF24putimage and DF24addimage</H6>
<P CLASS="Body">
<A NAME="50593877_pgfId-2763"></A>To write a raster image to an HDF file, the calling program must contain one of the following function calls:</P>
<P CLASS="FM1-syntax">
<A NAME="50593877_pgfId-2765"></A><EM CLASS="syntaxLang">
C:</EM>
		status = DF24putimage(filename, image, width, height);</P>
<P CLASS="FM1-syntax">
<A NAME="50593877_pgfId-2767"></A><EM CLASS="syntaxLang">
FORTRAN:</EM>
	status = d2pimg(filename, image, width, height)</P>
<P CLASS="syntax-or-top">
<A NAME="50593877_pgfId-2769"></A>	<EM CLASS="syntaxLang">
OR</EM>
</P>
<P CLASS="FM1-syntax">
<A NAME="50593877_pgfId-2771"></A><EM CLASS="syntaxLang">
C:</EM>
		status = DF24addimage(filename, image, width, height);</P>
<P CLASS="FM1-syntax">
<A NAME="50593877_pgfId-2773"></A><EM CLASS="syntaxLang">
FORTRAN:</EM>
	status = d2aimg(filename, image, width, height)</P>
<P CLASS="Body">
<A NAME="50593877_pgfId-2775"></A>DF24pu<A NAME="50593877_marker-7147"></A>timage and DF24addim<A NAME="50593877_marker-7148"></A>age write a 24-bit raster images to the HDF file specified by the <EM CLASS="VarName">
filename</EM>
 parameter. When given a new file name, DF24putimage and DF24addimage create a new file and write the raster image as the first raster image in the file. If a file with the specified filename exists, DF24putimage overwrites the previous contents of the file whereas DF24addimage appends data to the end of the file. </P>
<P CLASS="Body">
<A NAME="50593877_pgfId-2781"></A>DF24putimage and DF24addimage passes the raster data in the <EM CLASS="VarName">
image</EM>
 parameter and the width and height of the image in the <EM CLASS="VarName">
width</EM>
 and <EM CLASS="VarName">
height</EM>
 parameters. The array <EM CLASS="VarName">
image</EM>
 is assumed to be the width times the height times three bytes in length for each color component. The parameters for DF24putimage and DF24addimage are further defined below. <A HREF="UG_html-7.htm#50593877_16672" CLASS="XRef">DF24putimage and DF24addimage Parameter List</A></P>
<DIV>
<H6 CLASS="Table">
<A NAME="50593877_pgfId-2786"></A><DIV>
<IMG SRC="UG_html-45.gif" ALT="">
</DIV>
<A NAME="50593877_16672"></A>DF24<A NAME="50593877_marker-7149"></A>putimage and DF2<A NAME="50593877_marker-7150"></A>4addimage Parameter List</H6>
<TABLE>
<TR>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-5375"></A>Routine Name</P>
<H6 CLASS="ReturnType">
<A NAME="50593877_pgfId-8836"></A>[Return Type]</H6>
<P CLASS="TableHead">
<A NAME="50593877_pgfId-5376"></A>(FORTRAN-77)</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-5378"></A>Parameter</P>
</TD>
<TD ROWSPAN="1" COLSPAN="2">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-5380"></A>Parameter Type</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-5384"></A>Description</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-5390"></A>C</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-5392"></A>FORTRAN-77</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="4" COLSPAN="1">
<H6 CLASS="CellFunctionBold">
<A NAME="50593877_pgfId-5396"></A>DF24putimage</H6>
<H6 CLASS="ReturnType">
<A NAME="50593877_pgfId-8837"></A>[intn]</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593877_pgfId-5397"></A>(d2pimg)</H6>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5399"></A>filename</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5401"></A>char *</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5403"></A>character*(*)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-5405"></A>Name of file to store the raster image.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5409"></A>image</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5411"></A>VOIDP</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5413"></A>&lt;valid numeric data type&gt;</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-5415"></A>Raster image to be written.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5419"></A>width</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5421"></A>int32</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5423"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-5425"></A>Number of columns in the image.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5429"></A>height</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5431"></A>int32</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5433"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-5435"></A>Number of rows in the image.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="4" COLSPAN="1">
<H6 CLASS="CellFunctionBold">
<A NAME="50593877_pgfId-6985"></A>DF24addimage</H6>
<H6 CLASS="ReturnType">
<A NAME="50593877_pgfId-8838"></A>[intn]</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593877_pgfId-6986"></A>(d2aimg)</H6>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6988"></A>filename</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6990"></A>char *</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6992"></A>character*(*)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-6994"></A>Name of file to store the raster image.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6996"></A>image</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6998"></A>VOIDP</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-7000"></A>&lt;valid numeric data type&gt;</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-7002"></A>Raster image to be written.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-7004"></A>width</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-7006"></A>int32</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-7008"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-7010"></A>Number of columns in the image.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-7012"></A>height</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-7014"></A>int32</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-7016"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-7018"></A>Number of rows in the image.</P>
</TD>
</TR>
</TABLE>
</DIV>
<DIV>
<H6 CLASS="Example">
<A NAME="50593877_pgfId-2788"></A><DIV>
<IMG SRC="UG_html-45.gif" ALT="">
</DIV>
Writing a 24-Bit Raster Image to an HDF File</H6>
<P CLASS="Body">
<A NAME="50593877_pgfId-2790"></A>In the following examples, DF24addimage and d2aimg are used to write a 24-bit image to an HDF file named &quot;Example1.hdf.&quot; DF24addimage assumes row-major order. Therefore, the FORTRAN-77 declaration requires the width (rows) before the height (columns), whereas the C declaration requires the height before the width. The interlace format setting is the default (pixel interlacing). </P>
</DIV>
</DIV>
</DIV>
</DIV>
<DIV>
<H4 CLASS="Code-C-Title">
<A NAME="50593877_pgfId-2794"></A><DIV>
<IMG SRC="UG_html-49.gif" ALT="">
</DIV>
C:		</H4>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8292"></A>#include &quot;hdf.h&quot;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8527"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8528"></A>#define WIDTH 5</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8529"></A>#define HEIGHT 6</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8530"></A>#define PIXEL_DEPTH 3</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8531"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8532"></A>main( )</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8533"></A>{</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8534"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8535"></A>	/* Initialize the image array. */</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8536"></A>	static uint8 raster_data[HEIGHT][WIDTH][PIXEL_DEPTH] =</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8537"></A>	{  1, 2, 3,  4, 5, 6,  7, 8, 9,  10,11,12,  13,14,15,  </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8538"></A>	  16,17,18, 19,20,21, 22,23,24,  25,26,27,  28,29,30,  </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8539"></A>	  31,32,33, 34,35,36, 37,38,39,  40,41,42,  43,44,45,  </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8540"></A>	  46,47,48, 49,50,51, 52,53,54,  55,56,57,  58,59,60,  </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8541"></A>	  61,62,63, 64,65,66, 67,68,69,  70,71,72,  73,74,75,  </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8542"></A>	  76,77,78, 79,80,81, 82,83,84,  85,86,87,  88,89,90 };</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8543"></A>    intn status;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8544"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8545"></A>	/* Write the 24-bit raster image to the HDF file. */</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8546"></A>	status = DF24addimage(&quot;Example1.hdf&quot;, (VOIDP)raster_data, WIDTH, \</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8547"></A>			   			  HEIGHT);</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8548"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8549"></A>}</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9027"></A>&nbsp;</P>
</DIV>
<DIV>
<H4 CLASS="Code-F-Title">
<A NAME="50593877_pgfId-9032"></A><DIV>
<IMG SRC="UG_html-49.gif" ALT="">
</DIV>
FORTRAN:	</H4>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-2834"></A>	 PROGRAM WRITE RIS24</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8552"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8553"></A>      integer status, d2aimg </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8554"></A>      integer*4 WIDTH, HEIGHT, PIXEL_DEPTH</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8555"></A>      parameter (WIDTH = 5,</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8556"></A>     +         HEIGHT = 6, </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8557"></A>     +         PIXEL_DEPTH = 3) </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8558"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8559"></A>      character raster_data(PIXEL_DEPTH, WIDTH, HEIGHT)</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8560"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8561"></A>C     Initialize the image array.</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8562"></A>      data raster_data </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8563"></A>     +     /  1, 2, 3,  4, 5, 6,  7, 8, 9,  10,11,12,  13,14,15,  </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8564"></A>     +     16,17,18, 19,20,21, 22,23,24,  25,26,27,  28,29,30, </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8565"></A>     +     31,32,33, 34,35,36, 37,38,39,  40,41,42,  43,44,45, </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8566"></A>     +     46,47,48, 49,50,51, 52,53,54,  55,56,57,  58,59,60, </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8567"></A>     +     61,62,63, 64,65,66, 67,68,69,  70,71,72,  73,74,75, </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8568"></A>     +     76,77,78, 79,80,81, 82,83,84,  85,86,87,  88,89,90 /</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8569"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8570"></A>C     Write the 24-bit raster image to the file.</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8571"></A>      status = d2aimg(â€™Example1.hdfâ€™, raster_data, WIDTH, </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8572"></A>     +                HEIGHT)</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8573"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8574"></A>      end</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8575"></A>&nbsp;</P>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593877_pgfId-4025"></A>	7.4.2	Sett<A NAME="50593877_marker-7151"></A>ing the Interlace Format: DF24setil</H6>
<P CLASS="Body">
<A NAME="50593877_pgfId-4026"></A>DF2<A NAME="50593877_marker-7152"></A>4setil indicates the interlace format to be used for all subsequent write operations. DF24setil changes the default setting from pixel interlacing to the selected format. When the format is set, it acts as the default until it is reset by another call to DF24setil. To change the default interlace format , the calling program must contain the following routines:</P>
<P CLASS="FM1-syntax">
<A NAME="50593877_pgfId-2904"></A><EM CLASS="syntaxLang">
C:</EM>
		status = DF24setil(il);</P>
<P CLASS="syntax">
<A NAME="50593877_pgfId-2906"></A>		status = DF24addimage(filename, image, width, height);</P>
<P CLASS="FM1-syntax">
<A NAME="50593877_pgfId-2908"></A><EM CLASS="syntaxLang">
FORTRAN:</EM>
	status = d2setil(il)</P>
<P CLASS="Body">
<A NAME="50593877_pgfId-2916"></A><EM CLASS="FunctionName">
DF24setil</EM>
 takes <EM CLASS="VarName">
il</EM>
 as its only parameter. Valid values for <EM CLASS="VarName">
il</EM>
 are <EM CLASS="DefName">
DFIL_PIXEL</EM>
, <EM CLASS="DefName">
DFIL_LINE</EM>
, and <EM CLASS="DefName">
DFIL_PLANE</EM>
. The parameters for <EM CLASS="FunctionName">
DF24setil</EM>
 are further defined below. <A HREF="UG_html-7.htm#50593877_62271" CLASS="XRef">DF24setil and DF24setcompress Parameter List</A></P>
<DIV>
<H6 CLASS="Example">
<A NAME="50593877_pgfId-2918"></A><DIV>
<IMG SRC="UG_html-45.gif" ALT="">
</DIV>
Writing 24-Bit Raster Images Using Scan-plane Interlacing</H6>
<P CLASS="Body">
<A NAME="50593877_pgfId-2920"></A>In the following examples, DF24addimage is used to write a 24-bit image to an HDF file called &quot;Example2.hdf&quot;. The DF24setil function used here to change the default format setting from pixel interlacing to scan-plane interlacing.</P>
</DIV>
</DIV>
</DIV>
<DIV>
<H4 CLASS="Code-C-Title">
<A NAME="50593877_pgfId-9127"></A><DIV>
<IMG SRC="UG_html-49.gif" ALT="">
</DIV>
C:		</H4>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9130"></A>#include &quot;hdf.h&quot;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9131"></A>#include &quot;hcomp.h&quot;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9132"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9133"></A>#define WIDTH 5</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9134"></A>#define HEIGHT 6</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9135"></A>#define PIXEL_DEPTH 3</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9136"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9137"></A>main( )</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9138"></A>{</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9139"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9140"></A>	/* Initialize the image array. */</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9141"></A>	static uint8 raster_data[HEIGHT][WIDTH][PIXEL_DEPTH] = </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9142"></A>	{  1, 2, 3,  4, 5, 6,  7, 8, 9,  10,11,12,  13,14,15,  </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9143"></A>	16,17,18, 19,20,21, 22,23,24,  25,26,27,  28,29,30,  </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9144"></A>	31,32,33, 34,35,36, 37,38,39,  40,41,42,  43,44,45,  </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9145"></A>	46,47,48, 49,50,51, 52,53,54,  55,56,57,  58,59,60,  </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9146"></A>	61,62,63, 64,65,66, 67,68,69,  70,71,72,  73,74,75,  </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9147"></A>	76,77,78, 79,80,81, 82,83,84,  85,86,87,  88,89,90 };</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9148"></A>	intn status;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9149"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9150"></A>	/* Change interlace from pixel to scan-plane. */</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9151"></A>	status = DF24setil(DFIL_PLANE); </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9152"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9153"></A>	/* Write the 24-bit image data to file. */</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9154"></A>	status = DF24addimage(&quot;Example2.hdf&quot;, (VOIDP)raster_data, </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9155"></A>					WIDTH, HEIGHT);</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9156"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9157"></A>}</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-9159"></A>&nbsp;</P>
</DIV>
<DIV>
<H4 CLASS="Code-F-Title">
<A NAME="50593877_pgfId-4769"></A><DIV>
<IMG SRC="UG_html-49.gif" ALT="">
</DIV>
FORTRAN:	</H4>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-4770"></A>	 PROGRAM CHANGE INTERLACE</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8611"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8612"></A>      integer status, d2aimg, d2setil </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8613"></A>      integer*4 WIDTH, HEIGHT, PIXEL_DEPTH, DFIL_PLANE</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8614"></A>      parameter (WIDTH = 5,</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8615"></A>     +    HEIGHT = 6, </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8616"></A>     +    PIXEL_DEPTH = 3, </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8617"></A>     +    DFIL_PLANE = 2) </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8618"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8619"></A>      integer raster_data(PIXEL_DEPTH, WIDTH, HEIGHT)</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8620"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8621"></A>C     Initialize the image array.</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8622"></A>      data raster_data </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8623"></A>     + /  1, 2, 3,  4, 5, 6,  7, 8, 9,  10,11,12,  13,14,15,  </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8624"></A>     +  16,17,18, 19,20,21, 22,23,24,  25,26,27,  28,29,30, </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8625"></A>     +  31,32,33, 34,35,36, 37,38,39,  40,41,42,  43,44,45, </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8626"></A>     +  46,47,48, 49,50,51, 52,53,54,  55,56,57,  58,59,60, </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8627"></A>     +  61,62,63, 64,65,66, 67,68,69,  70,71,72,  73,74,75, </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8628"></A>     +  76,77,78, 79,80,81, 82,83,84,  85,86,87,  88,89,90  /</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8629"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8630"></A>C     Change interlace from pixel to scan plane.</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8631"></A>      status = d2setil(DFIL_PLANE)</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8632"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8633"></A>C     Write the 24-bit raster image to the file.</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8634"></A>      status = d2aimg(â€™Example2.hdfâ€™, raster_data, WIDTH, </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8635"></A>     +                 HEIGHT)</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8636"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8637"></A>      end</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8638"></A>&nbsp;</P>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593877_pgfId-3032"></A>	7.4.3	Compres<A NAME="50593877_marker-7153"></A>sing Image Data: DF24setcompress and d2sjpeg</H6>
<P CLASS="Body">
<A NAME="50593877_pgfId-3034"></A>DF24set<A NAME="50593877_marker-7154"></A>compress invokes JPEG compression and sets the JPEG quality and baseline options. To store a 24-bit raster image using JPEG compression, the calling program must contain the following function calls:</P>
<P CLASS="FM1-syntax">
<A NAME="50593877_pgfId-3036"></A><EM CLASS="syntaxLang">
C:</EM>
		status = DF24setcompress(type, c_info);</P>
<P CLASS="syntax">
<A NAME="50593877_pgfId-3038"></A>		status = DF24addimage(filename, image, width, height);</P>
<P CLASS="FM1-syntax">
<A NAME="50593877_pgfId-3040"></A><EM CLASS="syntaxLang">
FORTRAN:</EM>
	status = d2scomp(type)</P>
<P CLASS="syntax">
<A NAME="50593877_pgfId-9934"></A>	<EM CLASS="syntaxLang">
OR</EM>
	status = d2sjpeg(quality, baseline)</P>
<P CLASS="syntax">
<A NAME="50593877_pgfId-3044"></A>		status = d2aimg(filename, image, width, height, compress)</P>
<P CLASS="Body">
<A NAME="50593877_pgfId-10016"></A>Notice that the calling sequence for C is different from the calling sequence for FORTRAN-77. Once it is set, the parameter <EM CLASS="VarName">
type</EM>
 in the <EM CLASS="FunctionName">
DF24setcompress routine, </EM>
or d2scomp in FORTRAN-77, routine specifies the compression method that will be used to store the raster images. However, the <EM CLASS="VarName">
c_info</EM>
 parameter in <EM CLASS="FunctionName">
DF24setcompress</EM>
 is missing from <EM CLASS="FunctionName">
d2scomp</EM>
 which is a pointer to a structure that contains information specific to the compression method indicated by the <EM CLASS="VarName">
type</EM>
 parameter. Because data structures of variable size are not supported in FORTRAN-77, a second compression-specific routine (d2sjpeg) is required in the FORTRAN-77 calling sequence.</P>
<P CLASS="Body">
<A NAME="50593877_pgfId-10022"></A>For more information about the <EM CLASS="VarName">
c_info</EM>
 structure refer to <A HREF="UG_html-6.htm#50593876_20224" CLASS="XRef">8-Bit Raster Images (DFR8 API)</A>.</P>
<P CLASS="Body">
<A NAME="50593877_pgfId-10024"></A>Default values for quality and baseline (<EM CLASS="VarName">
quality=75%</EM>
, <EM CLASS="VarName">
baseline=on</EM>
) are used if <EM CLASS="VarName">
c_info</EM>
 is a null structure or <EM CLASS="FunctionName">
d2sjpeg</EM>
 is omitted. Parameters for <EM CLASS="FunctionName">
DF24setcompress</EM>
 and <EM CLASS="FunctionName">
d24sjpeg</EM>
 are further described in <EM CLASS="Body">
<A HREF="UG_html-7.htm#50593877_62271" CLASS="XRef">Table 7E</A></EM>
 below.</P>
<DIV>
<H6 CLASS="Table">
<A NAME="50593877_pgfId-3073"></A><DIV>
<IMG SRC="UG_html-45.gif" ALT="">
</DIV>
<A NAME="50593877_62271"></A>DF2<A NAME="50593877_marker-7155"></A>4setil and DF24<A NAME="50593877_marker-7156"></A>setcompress Parameter List</H6>
<TABLE>
<TR>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-5704"></A>Routine Name</P>
<H6 CLASS="ReturnType">
<A NAME="50593877_pgfId-8841"></A>[Return Type]</H6>
<P CLASS="TableHead">
<A NAME="50593877_pgfId-5705"></A>(FORTRAN-77)</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-5707"></A>Parameter</P>
</TD>
<TD ROWSPAN="1" COLSPAN="2">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-5711"></A>Parameter Type</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-5713"></A>Description</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-5719"></A>C</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-5721"></A>FORTRAN-77</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<H6 CLASS="CellFunctionBold">
<A NAME="50593877_pgfId-5725"></A>DF24setil</H6>
<H6 CLASS="ReturnType">
<A NAME="50593877_pgfId-8842"></A>[intn]</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593877_pgfId-5726"></A>(d2sil)</H6>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5728"></A>il</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5730"></A>int32</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5732"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-5734"></A>Interlace format to be set.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="2" COLSPAN="1">
<H6 CLASS="CellFunctionBold">
<A NAME="50593877_pgfId-5739"></A>DF24setcompress</H6>
<H6 CLASS="ReturnType">
<A NAME="50593877_pgfId-8843"></A>[intn]</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593877_pgfId-5740"></A>(d2scomp)</H6>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5742"></A>type</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5744"></A>int32</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5746"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-5748"></A>COMP_JPEG.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5752"></A>c_info</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5754"></A>comp_info *</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5756"></A>None</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-5758"></A>Pointer to JPEG information structure.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="2" COLSPAN="1">
<H6 CLASS="CellFunctionBold">
<A NAME="50593877_pgfId-5760"></A>(d2sjpeg)</H6>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5762"></A>quality</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5764"></A>None</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5766"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-5768"></A>JPEG compression quality specification.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5772"></A>baseline</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5774"></A>None</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-5776"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-5778"></A>JPEG compression baseline specification.</P>
</TD>
</TR>
</TABLE>
</DIV>
<DIV>
<H6 CLASS="Example">
<A NAME="50593877_pgfId-3075"></A><DIV>
<IMG SRC="UG_html-45.gif" ALT="">
</DIV>
Compressing and Writing a 24-Bit Raster Image</H6>
<P CLASS="Body">
<A NAME="50593877_pgfId-3077"></A>In the following examples, DF24addimage and DF24compress are used to compress a 24-bit image and write it to an HDF file named &quot;Example2.hdf&quot;. Notice that compressing an image in C requires only one function call, whereas compressing an image using FORTRAN-77 requires two. The second FORTRAN-77 call is required because it is not valid to pass a structure as a parameter in FORTRAN-77.</P>
</DIV>
</DIV>
</DIV>
<DIV>
<H4 CLASS="Code-C-Title">
<A NAME="50593877_pgfId-7576"></A><DIV>
<IMG SRC="UG_html-49.gif" ALT="">
</DIV>
C:		</H4>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8417"></A>#include &quot;hdf.h&quot;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8645"></A>#include &quot;hcomp.h&quot;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8646"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8647"></A>#define WIDTH 3</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8648"></A>#define HEIGHT 5</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8649"></A>#define PIXEL_DEPTH 3</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8650"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8651"></A>main( )</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8652"></A>{</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8653"></A>	/* Initialize the image array. */</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8654"></A>	static uint8 raster_data[HEIGHT][WIDTH][PIXEL_DEPTH] = </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8655"></A>		{  1, 2, 3,  4, 5, 6,  7, 8, 9,  </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8656"></A>		  10,11,12, 13,14,15, 16,17,18, </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8657"></A>		  19,20,21, 22,23,24, 25,26,27,  </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8658"></A>		  28,29,30, 31,32,33, 34,35,36,  </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8659"></A>		  37,38,39, 40,41,42, 43,44,45 }; </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8660"></A>	static comp_info compress_info;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8661"></A>	intn status;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8662"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8663"></A>	/* Initialize JPEG compression structure. */</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8664"></A>	compress_info.jpeg.quality = 60;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8665"></A>	compress_info.jpeg.force_baseline = 1;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8666"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8667"></A>	/* Set JPEG compression for storing the image. */</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8668"></A>	status = DF24setcompress(COMP_JPEG, &amp;compress_info);</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8669"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8670"></A>	/* Write the 24-bit image data to file. */</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8671"></A>	status = DF24addimage(&quot;Example2.hdf&quot;, (VOIDP)raster_data, </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8672"></A>					WIDTH, HEIGHT);</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8673"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8674"></A>}</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8675"></A>&nbsp;</P>
<P CLASS="Body">
<A NAME="50593877_pgfId-14903"></A>&nbsp;</P>
<P CLASS="Body">
<A NAME="50593877_pgfId-14904"></A>&nbsp;</P>
</DIV>
<DIV>
<H4 CLASS="Code-F-Title">
<A NAME="50593877_pgfId-7578"></A><DIV>
<IMG SRC="UG_html-49.gif" ALT="">
</DIV>
<A NAME="50593877_marker-8902"></A>FORTRAN:	</H4>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-3133"></A>	  PROGRAM COMPRESS RIS24</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8677"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8678"></A>      integer d2aimg, d2scomp, d2sjpeg, status</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8679"></A>      integer*4 WIDTH, HEIGHT, PIXEL_DEPTH</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8680"></A>      parameter(WIDTH = 3,</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8681"></A>     +          HEIGHT = 5,</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8682"></A>     +          PIXEL_DEPTH = 3)</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8683"></A>      character raster_data(PIXEL_DEPTH, WIDTH, HEIGHT) </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8684"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8685"></A>C     Initialize the image array.</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8686"></A>      data raster_data </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8687"></A>     + /  1, 2, 3,  4, 5, 6,  7, 8, 9,  </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8688"></A>     +   10,11,12, 13,14,15, 16,17,18, </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8689"></A>     +   19,20,21, 22,23,24, 25,26,27,  </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8690"></A>     +   28,29,30, 31,32,33, 34,35,36,  </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8691"></A>     +   37,38,39, 40,41,42, 43,44,45  /</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8692"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8693"></A>C     Set compression.</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8694"></A>      status = d2scomp(COMP_JPEG)</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8695"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8696"></A>C     Set JPEG parameters to quality = 60, and turn compatibility on.</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8697"></A>      status = d2sjpeg(60, 1)</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8698"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8699"></A>C     Write the 24-bit image data to the HDF file.</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8700"></A>      status = d2aimg(â€™Example2.hdfâ€™, raster_data, WIDTH, HEIGHT)</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8701"></A>      end</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8702"></A>&nbsp;</P>
<DIV>
<H5 CLASS="Heading2">
<A NAME="50593877_pgfId-3212"></A>	7.5	Rea<A NAME="50593877_marker-7160"></A>ding 24-Bit Raster Images<DIV>
<IMG SRC="UG_html-44.gif" ALT="">
</DIV>
</H5>
<P CLASS="Body">
<A NAME="50593877_pgfId-3214"></A>The DF24 programming model for reading a 24-bit raster image set is as follows:</P>
<DIV>
<H6 CLASS="FM1Step">
<A NAME="50593877_pgfId-3216"></A>Determine the dimensions for an image if necessary.</H6>
<OL>
<LI CLASS="Step">
<A NAME="50593877_pgfId-3218"></A>2.	Specify the interlace format to use when reading the image. (optional)</LI>
<LI CLASS="Step">
<A NAME="50593877_pgfId-3220"></A>3.	Read the image data from the file.</LI>
</OL>
</DIV>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593877_pgfId-3224"></A>	7.5.1	Reading a Raster Image: DF24getimage</H6>
<P CLASS="Body">
<A NAME="50593877_pgfId-4403"></A>If the dimensions and interlace format of the image are known, DF24g<A NAME="50593877_marker-7162"></A>etimage is the only function call required to read a raster image. If a file is being opened for the first time, DF24getimage returns the first image in the file. Additional calls will return successive images in the file, therefore images are read in the same order in which they were written to the file. Normally, DF24getdims and DF24getil are called before DF24getimage so that, if necessary, space allocations and interlace format for the image can be checked and the dimensions verified. If this information is already known, both function calls may be omitted.</P>
<P CLASS="Body">
<A NAME="50593877_pgfId-3228"></A>The syntax of the <EM CLASS="FunctionName">
DF24getimage</EM>
 routine is as follows:</P>
<P CLASS="FM1-syntax">
<A NAME="50593877_pgfId-3230"></A><EM CLASS="syntaxLang">
C:</EM>
		status = DF24getimage(filename, image, width, height);</P>
<P CLASS="FM1-syntax">
<A NAME="50593877_pgfId-3232"></A><EM CLASS="syntaxLang">
FORTRAN:</EM>
	status = d2gimg(filename, image, width, height)			</P>
<P CLASS="Body">
<A NAME="50593877_pgfId-3238"></A>DF24getimage retrieves the next 24-bit image from the HDF file specified by the <EM CLASS="VarName">
filename</EM>
 parameter. If the image is compressed, DF24getimage decompresses it and places it in memory at the location pointed to by the <EM CLASS="VarName">
image</EM>
 parameter. DF24getimage assumes the data is stored using pixel interlacing. The space allocated to hold the image is specified by the <EM CLASS="VarName">
width</EM>
 and <EM CLASS="VarName">
height</EM>
 parameters and may be larger than the actual image.The parameters for DF24getimage are further defined below. <A HREF="UG_html-7.htm#50593877_67810" CLASS="XRef">DF24getimage, DF24getdims and DF24reqil Parameter List</A></P>
</DIV>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593877_pgfId-3242"></A>	7.5.2	Deter<A NAME="50593877_marker-7163"></A>mining the Dimensions of an Image: DF24getdims</H6>
<P CLASS="Body">
<A NAME="50593877_pgfId-3244"></A><EM CLASS="FunctionName">
DF24getdims</EM>
<A NAME="50593877_marker-7164"></A> opens a named file, finds the next image or the first image if the file is being opened for the first time, retrieves the dimensions of the image, then determines the interlace format of the image. Images are read in the order they were written.</P>
<P CLASS="Body">
<A NAME="50593877_pgfId-3246"></A>To determine the dimensions and interlace format for an image, the calling program must call the following routines:</P>
<P CLASS="FM1-syntax">
<A NAME="50593877_pgfId-3248"></A><EM CLASS="syntaxLang">
C:</EM>
		status = DF24getdims(filename, width, height, il);</P>
<P CLASS="syntax">
<A NAME="50593877_pgfId-3250"></A>		status = DF24getimage(filename, image, width, height);</P>
<P CLASS="FM1-syntax">
<A NAME="50593877_pgfId-3252"></A><EM CLASS="syntaxLang">
FORTRAN:</EM>
	status = d2gdim(filename, width, height, il)</P>
<P CLASS="syntax">
<A NAME="50593877_pgfId-3254"></A>		status = d2gimg(filename, image, width, height)			</P>
<P CLASS="Body">
<A NAME="50593877_pgfId-3260"></A>DF24getdims takes four parameters: <EM CLASS="VarName">
filename</EM>
, <EM CLASS="VarName">
width</EM>
, <EM CLASS="VarName">
height</EM>
, and <EM CLASS="VarName">
il</EM>
. It retrieves dimension and interlace format information of the next 24-bit image stored in the HDF file specified by the <EM CLASS="VarName">
filename</EM>
 parameter. The width and height are returned in the space pointed to by the <EM CLASS="VarName">
width</EM>
 and <EM CLASS="VarName">
height</EM>
 parameters respectively. The <EM CLASS="VarName">
il</EM>
 parameter is used to determine the interlace format. The parameters for DF24getdims are further defined below. <A HREF="UG_html-7.htm#50593877_67810" CLASS="XRef">DF24getimage, DF24getdims and DF24reqil Parameter List</A></P>
</DIV>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593877_pgfId-3262"></A>	7.5.3	Modifyi<A NAME="50593877_marker-7165"></A>ng the Interlacing of an Image: DF24reqil</H6>
<P CLASS="Body">
<A NAME="50593877_pgfId-3264"></A>DF24re<A NAME="50593877_marker-7166"></A>qil specifies an interlace format to be used when reading a 24-bit image from a file into memory. Regardless of what interlace format is used to store the image, DF24reqil forces the image to be loaded into memory using the specified interlace format.</P>
<P CLASS="Body">
<A NAME="50593877_pgfId-3266"></A>To set or reset the interlace format, the calling program should call the following routines:</P>
<P CLASS="FM1-syntax">
<A NAME="50593877_pgfId-3268"></A><EM CLASS="syntaxLang">
C:</EM>
		status = DF24reqil(il);</P>
<P CLASS="syntax">
<A NAME="50593877_pgfId-3270"></A>		status = DF24getimage(filename, image, width, height);</P>
<P CLASS="FM1-syntax">
<A NAME="50593877_pgfId-3272"></A><EM CLASS="syntaxLang">
FORTRAN:</EM>
	status = d2reqil(il)</P>
<P CLASS="syntax">
<A NAME="50593877_pgfId-3274"></A>		status = d2gimg(filename, image, width, height)</P>
<P CLASS="Body">
<A NAME="50593877_pgfId-3280"></A>DF24reqil takes <EM CLASS="VarName">
il</EM>
 as its only parameter. Valid <EM CLASS="VarName">
il</EM>
 values are <EM CLASS="DefName">
DFIL_PIXEL</EM>
, <EM CLASS="DefName">
DFIL_LINE</EM>
 and <EM CLASS="DefName">
DFIL_PLANE</EM>
. As a call to DF24reqil may require a substantial reordering of the data, a much slower I/O performance than would be achieved if the interlace format wasnâ€™t reset may result.</P>
<P CLASS="Body">
<A NAME="50593877_pgfId-5952"></A>The parameters of DF24reqil is further defined below. <A HREF="UG_html-7.htm#50593877_67810" CLASS="XRef">DF24getimage, DF24getdims and DF24reqil Parameter List</A></P>
<DIV>
<H6 CLASS="Table">
<A NAME="50593877_pgfId-3285"></A><DIV>
<IMG SRC="UG_html-45.gif" ALT="">
</DIV>
<A NAME="50593877_67810"></A>DF24g<A NAME="50593877_marker-7167"></A>etimage, DF24g<A NAME="50593877_marker-7168"></A>etdims and DF2<A NAME="50593877_marker-7169"></A>4reqil Parameter List</H6>
<TABLE>
<TR>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6000"></A>Routine Name</P>
<H6 CLASS="ReturnType">
<A NAME="50593877_pgfId-8846"></A>[Return Type]</H6>
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6001"></A>(FORTRAN-77)</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6003"></A>Parameter</P>
</TD>
<TD ROWSPAN="1" COLSPAN="2">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6007"></A>Parameter Type</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6009"></A>Description</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6015"></A>C</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6017"></A>FORTRAN-77</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="4" COLSPAN="1">
<H6 CLASS="CellFunctionBold">
<A NAME="50593877_pgfId-6021"></A>DF24getimage</H6>
<H6 CLASS="ReturnType">
<A NAME="50593877_pgfId-8847"></A>[intn]</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593877_pgfId-6022"></A>(d2gimg)</H6>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6024"></A>filename</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6026"></A>char *</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6028"></A>character*(*)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-6030"></A>Name of the HDF file containing the raster image.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6034"></A>image</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6036"></A>VOIDP</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6038"></A>&lt;valid numeric data type&gt;</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-6040"></A>Buffer for the raster image.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6044"></A>width</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6046"></A>int32</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6048"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-6050"></A>Width of the raster image buffer.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6054"></A>height</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6056"></A>int32</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6058"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-6060"></A>Height of the raster image buffer.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="4" COLSPAN="1">
<H6 CLASS="CellFunctionBold">
<A NAME="50593877_pgfId-6062"></A>DF24getdims</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593877_pgfId-8848"></A>[intn]</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593877_pgfId-6063"></A>(d2gdims)</H6>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6065"></A>filename</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6067"></A>char *</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6069"></A>character*(*)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-6071"></A>Name of HDF file containing the raster image.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6075"></A>width</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6077"></A>int32 *</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6079"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-6081"></A>Pointer to the number of columns in the raster image.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6085"></A>height</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6087"></A>int32 *</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6089"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-6091"></A>Pointer to the number of rows in the raster image.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6095"></A>il</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6097"></A>intn</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6099"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-6101"></A>Pointer to the interlace format of the raster image.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<H6 CLASS="CellFunctionBold">
<A NAME="50593877_pgfId-6104"></A>DF24reqil</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593877_pgfId-8849"></A>[intn]</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593877_pgfId-6105"></A>(d2reqil)</H6>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6107"></A>il</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6109"></A>intn</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6111"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-6148"></A>Pointer to the interlace format of the raster image.</P>
</TD>
</TR>
</TABLE>
</DIV>
<DIV>
<H6 CLASS="Example">
<A NAME="50593877_pgfId-3287"></A><DIV>
<IMG SRC="UG_html-45.gif" ALT="">
</DIV>
Reading a 24-Bit Raster Image from an HDF File</H6>
<P CLASS="Body">
<A NAME="50593877_pgfId-3289"></A>The following examples read a 24-bit image from the &quot;Example2.hdf&quot; HDF file created in Example 2. Although the DF24getdims function call is optional, it is included as a demonstration of how to verify the image dimensions and interlace format before reading the image data. If the image dimensions and interlace format are known, only the DF24getimage call is required. </P>
</DIV>
</DIV>
</DIV>
</DIV>
<DIV>
<H4 CLASS="Code-C-Title">
<A NAME="50593877_pgfId-7775"></A><DIV>
<IMG SRC="UG_html-49.gif" ALT="">
</DIV>
C:		</H4>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8475"></A>#include &quot;hdf.h&quot;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8709"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8710"></A>#define WIDTH 5</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8711"></A>#define HEIGHT 6</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8712"></A>#define PIXEL_DEPTH 3</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8713"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8714"></A>main( )</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8715"></A>{</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8716"></A>	uint8 raster_data[PIXEL_DEPTH][HEIGHT][WIDTH];</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8717"></A>	int32 width, height;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8718"></A>	intn interlace, status;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8719"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8720"></A>	/* Get the image dimensions from the HDF file. */</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8721"></A>	status = DF24getdims(&quot;Example2.hdf&quot;, &amp;width, &amp;height, </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8722"></A>					&amp;interlace);</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8723"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8724"></A>	/* </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8725"></A>	* Read raster data if the dimensions are</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8726"></A>	* correct.</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8727"></A>	*/</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8728"></A>	if (width &lt;= WIDTH &amp;&amp; height &lt;= HEIGHT)</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8729"></A>	  status = DF24getimage(&quot;Example2.hdf&quot;, (VOIDP)raster_data, </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8730"></A>					width, height);</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8731"></A>}</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8732"></A>&nbsp;</P>
</DIV>
<DIV>
<H4 CLASS="Code-F-Title">
<A NAME="50593877_pgfId-7777"></A><DIV>
<IMG SRC="UG_html-49.gif" ALT="">
</DIV>
FORTRAN:	</H4>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-3337"></A>	  PROGRAM READ RIS24 </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8734"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8735"></A>      integer d2gimg, d2gdims, status, width, height, interlace</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8736"></A>      integer*4 X_LENGTH, Y_LENGTH, PIXEL_DEPTH</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8737"></A>      parameter(X_LENGTH = 5, Y_LENGTH = 6, PIXEL_DEPTH = 3)</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8738"></A>      integer raster_data(PIXEL_DEPTH, X_LENGTH, Y_LENGTH)</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8739"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8740"></A>C     Read the dimensions raster image.</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8741"></A>      status = d2gdims(â€™Example2.hdfâ€™, width, height, interlace)</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8742"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8743"></A>C     Read image data from the HDF file if the dimensions are </P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8744"></A>C     correct.</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8745"></A>      if (width .eq. X_LENGTH .and. height .eq. Y_LENGTH) then</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8746"></A>       status = d2gimg(â€™Example2.hdfâ€™, raster_data, width, height)</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8747"></A>      endif</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8748"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8749"></A>      end</P>
<P CLASS="ExampleCode">
<A NAME="50593877_pgfId-8750"></A>&nbsp;</P>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593877_pgfId-4486"></A>	7.5.4	Reading a<A NAME="50593877_marker-7170"></A> 24-Bit Raster Image with a Given Reference Number: DF24readref</H6>
<P CLASS="Body">
<A NAME="50593877_pgfId-22811"></A><EM CLASS="FunctionName">
DF24readref</EM>
<A NAME="50593877_marker-22810"></A> is used to access specific images stored in files containing multiple raster image sets. It is optionally used before<EM CLASS="FunctionName">
 DF24getimage</EM>
. <EM CLASS="FunctionName">
DF24readref</EM>
 can be used in connection with vgroups, which identify their members by tag/reference number pairs. See <A HREF="UG_html-5.htm#50593875_34180" CLASS="XRef">Vgroups (V API)</A>, for a discussion of vgroups and tag/reference number pairs.</P>
<P CLASS="Body">
<A NAME="50593877_pgfId-4491"></A>To access a specific raster image set, use the following sequence of routine calls:</P>
<P CLASS="FM1-syntax">
<A NAME="50593877_pgfId-4492"></A><EM CLASS="syntaxLang">
C:</EM>
		status = DF24readref(filename, ref);</P>
<P CLASS="syntax">
<A NAME="50593877_pgfId-4493"></A>		status DF24getimage(filename, image, width, height);</P>
<P CLASS="FM1-syntax">
<A NAME="50593877_pgfId-4494"></A><EM CLASS="syntaxLang">
FORTRAN:</EM>
	status = d2rref(filename, ref)</P>
<P CLASS="syntax">
<A NAME="50593877_pgfId-4495"></A>		status = d2gimg(filename, image, width, height)</P>
<P CLASS="Body">
<A NAME="50593877_pgfId-4496"></A><EM CLASS="FunctionName">
DF24readref</EM>
 sets the reference number for the next read operation performed on the HDF file <EM CLASS="VarName">
filename</EM>
 to the reference number contained in <EM CLASS="VarName">
ref</EM>
. Because reference numbers are not always assigned in sequence, it is not guaranteed that a reference number represents the location of the image in the file. <A NAME="50593877_marker-4497"></A>	<A NAME="50593877_15192"></A><A NAME="50593877_marker-4499"></A>	<A NAME="50593877_15192"></A></P>
<P CLASS="Body">
<A NAME="50593877_pgfId-6167"></A>The parameters of <EM CLASS="FunctionName">
DF24readref </EM>
are further described in the following table. </P>
<DIV>
<H6 CLASS="Table">
<A NAME="50593877_pgfId-2834"></A><DIV>
<IMG SRC="UG_html-45.gif" ALT="">
</DIV>
<A NAME="50593877_36260"></A>DF24r<A NAME="50593877_marker-7172"></A>eadref Parameter List</H6>
<TABLE>
<TR>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6179"></A>Routine Name</P>
<H6 CLASS="ReturnType">
<A NAME="50593877_pgfId-8850"></A>[Return Type]</H6>
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6180"></A>(FORTRAN-77)</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6182"></A>Parameter</P>
</TD>
<TD ROWSPAN="1" COLSPAN="2">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6186"></A>Parameter Type</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6188"></A>Description</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6194"></A>C</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6196"></A>FORTRAN-77</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="2" COLSPAN="1">
<H6 CLASS="CellFunctionBold">
<A NAME="50593877_pgfId-6200"></A>DF24readref</H6>
<H6 CLASS="ReturnType">
<A NAME="50593877_pgfId-8855"></A>[intn]</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593877_pgfId-6201"></A>(d2rref)</H6>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6203"></A>filename</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6205"></A>char *</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6207"></A>character*(*)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-6209"></A>Name of HDF file containing the raster image.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6213"></A>ref</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6215"></A>uint16</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6217"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-6220"></A>Reference number for the next <A NAME="50593877_marker-6219"></A>call to DF24getimage.</P>
</TD>
</TR>
</TABLE>
</DIV>
</DIV>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593877_pgfId-4578"></A>	7.5.5	Spe<A NAME="50593877_marker-7173"></A>cifying that the Next Image Read to be the First 24-Bit Raster<BR>
		Image in the File: DF24restart</H6>
<P CLASS="Body">
<A NAME="50593877_pgfId-4579"></A><EM CLASS="FunctionName">
DF24restart</EM>
<A NAME="50593877_marker-7174"></A> causes the next call to <EM CLASS="FunctionName">
DF24getimage</EM>
 or <EM CLASS="FunctionName">
DF24getdims</EM>
 to read from the first raster image set in the file, rather than the RIS24 following the one that was most recently read. Use the following call to invoke <EM CLASS="FunctionName">
DF24restart</EM>
:</P>
<P CLASS="FM1-syntax">
<A NAME="50593877_pgfId-4580"></A><EM CLASS="syntaxLang">
C:</EM>
		status = DF24restart( );</P>
<P CLASS="FM1-syntax">
<A NAME="50593877_pgfId-4581"></A><EM CLASS="syntaxLang">
FORTRAN:</EM>
	status = d2first( )</P>
<DIV>
<H6 CLASS="Table">
<A NAME="50593877_pgfId-6277"></A><DIV>
<IMG SRC="UG_html-45.gif" ALT="">
</DIV>
<A NAME="50593877_marker-6231"></A>D<A NAME="50593877_marker-6232"></A>F2<A NAME="50593877_marker-7175"></A>4restart Parameter List</H6>
<TABLE>
<TR>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6305"></A>Routine Name</P>
<H6 CLASS="ReturnType">
<A NAME="50593877_pgfId-8856"></A>[Return Type]</H6>
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6306"></A>(FORTRAN-77)</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6308"></A>Parameter</P>
</TD>
<TD ROWSPAN="1" COLSPAN="2">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6310"></A>Parameter Type</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6314"></A>Description</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6320"></A>C</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6322"></A>FORTRAN-77</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<H6 CLASS="CellFunctionBold">
<A NAME="50593877_pgfId-6326"></A>DF24restart</H6>
<H6 CLASS="ReturnType">
<A NAME="50593877_pgfId-8857"></A>[intn]</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593877_pgfId-6327"></A>(d2first)</H6>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6329"></A>None</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6331"></A>None</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6333"></A>None</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-6335"></A>None.<A NAME="50593877_marker-7161"></A></P>
</TD>
</TR>
</TABLE>
</DIV>
</DIV>
<DIV>
<H5 CLASS="Heading2">
<A NAME="50593877_pgfId-4592"></A>	7.6	24-Bit Rast<A NAME="50593877_marker-7180"></A>er Image Information Retrieval Routines<DIV>
<IMG SRC="UG_html-44.gif" ALT="">
</DIV>
</H5>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593877_pgfId-4593"></A>	7.6.1	Que<A NAME="50593877_marker-7181"></A>rying the Total Number of Images in a File: DF24nimages</H6>
<P CLASS="Body">
<A NAME="50593877_pgfId-4594"></A><EM CLASS="FunctionName">
DF24nimages</EM>
<A NAME="50593877_marker-7182"></A> returns the total number of 24	-bit raster image sets in a file, and has the following syntax:</P>
<P CLASS="FM1-syntax">
<A NAME="50593877_pgfId-4595"></A><EM CLASS="syntaxLang">
C:</EM>
		num_of_images = DF24nimages(filename);</P>
<P CLASS="FM1-syntax">
<A NAME="50593877_pgfId-4596"></A><EM CLASS="syntaxLang">
FORTRAN:</EM>
	num_of_images = d2nimg(filename)</P>
<DIV>
<H6 CLASS="Table">
<A NAME="50593877_pgfId-2913"></A><DIV>
<IMG SRC="UG_html-45.gif" ALT="">
</DIV>
<A NAME="50593877_marker-2867"></A>DF<A NAME="50593877_marker-2868"></A>2<A NAME="50593877_marker-7183"></A>4nimages Parameter List</H6>
<TABLE>
<TR>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6337"></A>Routine Name</P>
<H6 CLASS="ReturnType">
<A NAME="50593877_pgfId-8858"></A>[Return Type]</H6>
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6338"></A>(FORTRAN-77)</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6340"></A>Parameter</P>
</TD>
<TD ROWSPAN="1" COLSPAN="2">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6342"></A>Parameter Type</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6346"></A>Description</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6352"></A>C</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6354"></A>FORTRAN-77</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<H6 CLASS="CellFunctionBold">
<A NAME="50593877_pgfId-6358"></A>DF24nimages</H6>
<H6 CLASS="ReturnType">
<A NAME="50593877_pgfId-8859"></A>[intn]</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593877_pgfId-6359"></A>(d2nimg)</H6>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6361"></A>filename</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6363"></A>char *</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6365"></A>character*(*)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-6367"></A>Name of the HDF file.</P>
</TD>
</TR>
</TABLE>
</DIV>
</DIV>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593877_pgfId-2914"></A>	7.6.2	Queryi<A NAME="50593877_marker-7184"></A>ng the Reference Number of the Most Recently Accessed 24-Bit<BR>
		Raster Image: DF24lastref</H6>
<P CLASS="Body">
<A NAME="50593877_pgfId-20515"></A><EM CLASS="FunctionName">
DF24lastref </EM>
<A NAME="50593877_marker-20514"></A>returns the reference number of the 24-bit raster image most recently read or written. This routine is used for attaching annotations to images and adding images to vgroups. (See <A HREF="UG_html-5.htm#50593875_34180" CLASS="XRef">Vgroups (V API)</A> and <A HREF="UG_html-10.htm#50593880_10210" CLASS="XRef">Annotations (AN API)</A> for details on how to use reference numbers in connection with these applications.</P>
<P CLASS="Body">
<A NAME="50593877_pgfId-4648"></A>The following calling sequence uses <EM CLASS="FunctionName">
DF24lastref </EM>
to find the reference number of the RIS24 most recently added to an HDF file:</P>
<P CLASS="FM1-syntax">
<A NAME="50593877_pgfId-4649"></A><EM CLASS="syntaxLang">
C:</EM>
		status = DF24addimage(filename, image, width, height, compress);</P>
<P CLASS="syntax">
<A NAME="50593877_pgfId-4650"></A>		lastref = DF24lastref( );</P>
<P CLASS="FM1-syntax">
<A NAME="50593877_pgfId-4651"></A><EM CLASS="syntaxLang">
FORTRAN:</EM>
	status = d2aimg(filename, image, width, height, compress)</P>
<P CLASS="syntax">
<A NAME="50593877_pgfId-4652"></A>		lastref = d2lref( )</P>
<P CLASS="Body">
<A NAME="50593877_pgfId-4653"></A><EM CLASS="FunctionName">
DF24putimage</EM>
 or <EM CLASS="FunctionName">
DF24getimage</EM>
 can be used in place of <EM CLASS="FunctionName">
DF24addimage</EM>
 with similar results.</P>
<DIV>
<H6 CLASS="Table">
<A NAME="50593877_pgfId-6412"></A><DIV>
<IMG SRC="UG_html-45.gif" ALT="">
</DIV>
<A NAME="50593877_marker-6377"></A>D<A NAME="50593877_marker-6378"></A>F24<A NAME="50593877_marker-7186"></A>lastref Parameter List</H6>
<TABLE>
<TR>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6381"></A>Routine Name</P>
<H6 CLASS="ReturnType">
<A NAME="50593877_pgfId-8860"></A>[Return Type]</H6>
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6382"></A>(FORTRAN-77)</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6384"></A>Parameter</P>
</TD>
<TD ROWSPAN="1" COLSPAN="2">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6386"></A>Parameter Type</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6390"></A>Description</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6396"></A>C</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593877_pgfId-6398"></A>FORTRAN-77</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<H6 CLASS="CellFunctionBold">
<A NAME="50593877_pgfId-6402"></A>DF24lastref</H6>
<H6 CLASS="ReturnType">
<A NAME="50593877_pgfId-8861"></A>[uint16]</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593877_pgfId-6403"></A>(d2lref)</H6>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6405"></A>filename</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6407"></A>None</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593877_pgfId-6409"></A>None</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593877_pgfId-6411"></A>None.<A NAME="50593877_marker-7113"></A></P>
</TD>
</TR>
</TABLE>
<P CLASS="Body">
<A NAME="50593877_pgfId-4331"></A>&nbsp;</P>
<P CLASS="Body">
<A NAME="50593878_pgfId-44614"></A>&nbsp;</P>
</DIV>
</DIV>
</DIV>
</DIV>
<HR><P><table id="Botofpage" border="0" width="850" cellspacing="0" cellpadding="0">      <tr>        <td align="left">        HDF 4.2.10 - February 2014<br/>        <a href="THG_Copyright.html">Copyright</a>        <td align="right">          <span style="font-size: 12px; font-weight: bold">            The HDF Group<br />          </span>          <span style="font-size: 12px">            <a href="http://www.hdfgroup.org">www.hdfgroup.org</a><br />            <img valign="bottom" border="0" src="images/help.jpg" height="12" alt="The HDF Group" valign="top" />          </span>        </td>      </tr>    </table></BODY>
</HTML>
