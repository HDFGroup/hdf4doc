<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 11.0/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="UG_html.css" CHARSET="UTF-8" TYPE="text/css">
<table id="Topofpage" border="0" width="850" cellspacing="0" cellpadding="0"><tr><td align="left"><a href="http://www.hdfgroup.org"><img id="THG_logo" border="0" src="images/hdf_logo.jpg" width="90" height="70" alt="The HDF Group" valign="top" /></a></td><td valign="middle" align="center"><H1>HDF User’s Guide</H1><span style="font-size: 14px; font-weight: bold"><b>4.2.12</b></td><td valign="middle" align="center"><a HREF=UG_html.htm> [Top]</a> <a HREF=UG_html-10.htm> [Prev]</a><a HREF=UG_html-12.htm> [Next]</a></td></tr></table><HR></HEAD>
<BODY>
<DIV>
<span style="font-size: 14px; font-weight: bold"><a href="UG_html-17.htm">Index</a>] [<a href="UG_html-20.htm">List of Examples</a>] [<a href="UG_html-19.htm">List of Tables</a>] [<a href="UG_html-18.htm">List of Figures</a>]</DIV>
<H1 CLASS="ChapterTitle">
<A NAME="50593881_pgfId-42576"></A>Chapter 11 --	<A NAME="50593881_marker-42574"></A><A NAME="50593881_17375"></A>Single-file Annotations (DFAN API)</H1>
<DIV>
<H4 CLASS="Heading1">
<A NAME="50593881_pgfId-3549"></A>	11.1	Chapter Overview<DIV>
<IMG SRC="UG_html-66.gif" ALT="">
</DIV>
</H4>
<P CLASS="Body">
<A NAME="50593881_pgfId-19484"></A>The original HDF annotation tools were the single-file tools that constitute the DFAN interface. These tools, which are used to read and write file and data object annotations, are described in this chapter.</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-19485"></A>Note that there is a multifile annotations interface, called the AN interface, for dealing with annotations.</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-42151"></A><EM CLASS="Definition">
Note</EM>
: The AN interface supersedes the DFAN interface and is described in <EM CLASS="Body">
<A HREF="UG_html-10.htm#50593880_10210" CLASS="XRef">Annotations (AN API)</A></EM>
.</P>
<DIV>
<H5 CLASS="Heading2">
<A NAME="50593881_pgfId-3660"></A>	11.2	Th<A NAME="50593881_marker-12185"></A>e Sing<A NAME="50593881_marker-12186"></A>le-file Annotation Interface<DIV>
<IMG SRC="UG_html-66.gif" ALT="">
</DIV>
</H5>
<P CLASS="Body">
<A NAME="50593881_pgfId-3662"></A>The functions and routines that comprise the single-file annotation interface have names that begin with the string &quot;DFAN&quot; in C; the equivalent FORTRAN-77 routine names are prefaced by &quot;da&quot;. This interface is the older annotation interface and only supports annotation access within one particular HDF file. It doesn’t support the concept of an annotation identifier used in the newer multifile interface. Therefore, annotations created with the multifile interface cannot be accessed or manipulated with DFAN interface functions. </P>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593881_pgfId-3664"></A>	11.2.1	DFAN Library Routines</H6>
<P CLASS="Body">
<A NAME="50593881_pgfId-3666"></A>These functions are divided into the following categories:</P>
<UL>
<LI CLASS="Bullet">
<A NAME="50593881_pgfId-3668"></A><EM CLASS="Definition">
Write routines</EM>
<A NAME="50593881_marker-12197"></A> assign a file or object annotation.</LI>
<LI CLASS="Bullet">
<A NAME="50593881_pgfId-3670"></A><EM CLASS="Definition">
Read routines</EM>
 retrieve a file or object annotation. </LI>
<LI CLASS="Bullet">
<A NAME="50593881_pgfId-3672"></A><EM CLASS="Definition">
General inquiry routines</EM>
 return a list of all labels and reference numbers.</LI>
<LI CLASS="Bullet">
<A NAME="50593881_pgfId-19504"></A><EM CLASS="Definition">
Maintenance routine</EM>
 performs cleanup services.</LI>
</UL>
<P CLASS="Body">
<A NAME="50593881_pgfId-3678"></A>The DFAN interface routines are listed in the following table and are discussed in the subsequent sections of this document.</P>
<DIV>
<H6 CLASS="Table">
<A NAME="50593881_pgfId-3683"></A><DIV>
<IMG SRC="UG_html-67.gif" ALT="">
</DIV>
<A NAME="50593881_73294"></A>DFA<A NAME="50593881_marker-12198"></A>N Library Routines</H6>
<TABLE>
<TR>
<TH ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15229"></A>Purpose</P>
</TH>
<TH ROWSPAN="1" COLSPAN="2">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15231"></A>Functions</P>
</TH>
<TH ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15235"></A>Description</P>
</TH>
</TR>
<TR>
<TH ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15239"></A>C</P>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15241"></A>FORTRAN-77</P>
</TH>
</TR>
<TR>
<TD ROWSPAN="4" COLSPAN="1">
<P CLASS="TableCategory">
<A NAME="50593881_pgfId-18649"></A>Write</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-18631"></A>DFANaddfds</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-18633"></A>daafds</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-18635"></A>Assigns a file description to a specific file</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-18625"></A>DFANaddfid</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-18627"></A>daafid</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-18629"></A>Assigns a file label to a specific file</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-18637"></A>DFANputdesc</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-18639"></A>dapdesc</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-18641"></A>Assigns an object description to a specific data object</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-18643"></A>DFANputlabel</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-18645"></A>daplab</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-18647"></A>Assigns an object label to a specific data object</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="8" COLSPAN="1">
<P CLASS="TableCategory">
<A NAME="50593881_pgfId-18715"></A>Read </P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-18717"></A>DFANgetdesc</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-18719"></A>dagdesc</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-18721"></A>Reads the text of an object description</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-18723"></A>DFANgetdesclen</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-18725"></A>dagdlen</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-18727"></A>Returns the length of an object description</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-18729"></A>DFANgetfds</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-18731"></A>dagfds</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-18733"></A>Reads the text of a file description</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-18735"></A>DFANgetfdslen</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-18737"></A>dagfdsl</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-18739"></A>Returns the length of a file description</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-18741"></A>DFANgetfid</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-18743"></A>dagfid</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-18745"></A>Reads the text of a file label</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-18747"></A>DFANgetfidlen</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-18749"></A>dagfidl</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-18751"></A>Returns the length of a file label</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-18753"></A>DFANgetlabel</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-18755"></A>daglab</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-18757"></A>Reads the text of an object label</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-18759"></A>DFANgetlablen</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-18761"></A>dagllen</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-18763"></A>Returns the length of an object label</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableCategory">
<A NAME="50593881_pgfId-15341"></A>General Inquiry</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15343"></A>DFANlablist</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15345"></A>dallist</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15347"></A>Gets a list of all the labels in a file for a particular tag</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15351"></A>DFANlastref</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15353"></A>dalref</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15355"></A>Returns the reference number of the last annotation accessed</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableCategory">
<A NAME="50593881_pgfId-15357"></A>Maintenance</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15359"></A>DFANclear</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15361"></A>None</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15363"></A>Clears the internal tables and structures used by the DFAN interface</P>
</TD>
</TR>
</TABLE>
</DIV>
</DIV>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593881_pgfId-3685"></A>	11.2.2	Tags in the Annotation Interface</H6>
<P CLASS="Body">
<A NAME="50593881_pgfId-3691"></A><A HREF="UG_html-11.htm#50593881_86571" CLASS="XRef">Table 11B</A> lists the annotation tags defined in HDF versions 2.0, 3.0, and 4.0. Newly-defined tag names in each version are bolded. For a more complete list of tags, refer to the <EM CLASS="TextItalic">
HDF Specifications and Developer’s Guide v3.2</EM>
 from the HDF web site at <EM CLASS="URL">
http://www.hdfgroup.org/</EM>
.</P>
<DIV>
<H6 CLASS="Table">
<A NAME="50593881_pgfId-3696"></A><DIV>
<IMG SRC="UG_html-67.gif" ALT="">
</DIV>
List of Annot<A NAME="50593881_marker-12199"></A>ation Interface Tags i<A NAME="50593881_marker-12200"></A>n HDF Versions 2.0, 3.0 and 4.0<A NAME="50593881_86571"></A></H6>
<TABLE>
<TR>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15372"></A>Interface</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15374"></A>Data Object</P>
</TD>
<TD ROWSPAN="1" COLSPAN="3">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15376"></A>Tag Name</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15386"></A>v2.0</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15388"></A>v3.0</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15390"></A>v4.0</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="4" COLSPAN="1">
<P CLASS="TableCategory">
<A NAME="50593881_pgfId-15392"></A>DFR8</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15394"></A>Raster Image: 8-bit (uncompressed)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15396"></A>DFTAG_RI8</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15398"></A>DFTAG_RI</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15400"></A>DFTAG_RI</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15404"></A>Compressed Image: 8-bit</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15406"></A>DFTAG_CI8</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15408"></A>DFTAG_CI</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15410"></A>DFTAG_CI</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15414"></A>Image Dimension: 8-bit</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15416"></A>DFTAG_ID8</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15418"></A>DFTAG_ID</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15420"></A>DFTAG_ID</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15424"></A>Image Palette: 8-bit</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15426"></A>DFTAG_IP8</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15428"></A>DFTAG_LUT</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15430"></A>DFTAG_LUT</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="4" COLSPAN="1">
<P CLASS="TableCategory">
<A NAME="50593881_pgfId-15432"></A>DF24</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15434"></A>Raster Image Group</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15436"></A>None</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15438"></A>DFTAG_RIG</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15440"></A>DFTAG_RIG</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15444"></A>Raster Image (uncompressed)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15446"></A>None</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15448"></A>DFTAG_RI</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15450"></A>DFTAG_RI</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15454"></A>Compressed Image</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15456"></A>None</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15458"></A>DFTAG_CI</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15460"></A>DFTAG_CI</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15464"></A>Image Dimension</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15466"></A>None</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15468"></A>DFTAG_ID</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15470"></A>DFTAG_ID</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableCategory">
<A NAME="50593881_pgfId-15472"></A>DFP</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15474"></A>Color Look-up Table</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15476"></A>DFTAG_LUT</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15478"></A>DFTAG_LUT</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15480"></A>DFTAG_LUT</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="9" COLSPAN="1">
<P CLASS="TableCategory">
<A NAME="50593881_pgfId-15482"></A>DFSD</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15484"></A>Scientific Data Group</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15486"></A>DFTAG_SDG</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15488"></A>DFTAG_SDG</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15490"></A>DFTAG_NDG</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15494"></A>Scientific Data</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15496"></A>DFTAG_SD</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15498"></A>DFTAG_SD</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15500"></A>DFTAG_SD</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15504"></A>Scientific Data Dimension</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15506"></A>DFTAG_SDD</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15508"></A>DFTAG_SDD</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15510"></A>DFTAG_SDD</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15514"></A>Scientific Data Scale Attribute</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15516"></A>DFTAG_SDS</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15518"></A>DFTAG_SDS</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15520"></A>DFTAG_SDS</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15524"></A>Scientific Data Label Attribute</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15526"></A>DFTAG_SDL</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15528"></A>DFTAG_SDL</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15530"></A>DFTAG_SDL</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15534"></A>Scientific Data Unit Attribute</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15536"></A>DFTAG_SDU</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15538"></A>DFTAG_SDU</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15540"></A>DFTAG_SDU</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15544"></A>Scientific Data Format Attribute</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15546"></A>DFTAG_SDF</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15548"></A>DFTAG_SDF</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15550"></A>DFTAG_SDF</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15554"></A>Scientific Data Max/Min Attribute</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15556"></A>DFTAG_SDM</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15558"></A>DFTAG_SDM</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15560"></A>DFTAG_SDM</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15564"></A>Scientific Data Coordinates Attribute</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15566"></A>DFTAG_SDC</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15568"></A>DFTAG_SDC</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15570"></A>DFTAG_SDC</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="4" COLSPAN="1">
<P CLASS="TableCategory">
<A NAME="50593881_pgfId-15572"></A>DFAN</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15574"></A>File Identifier</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15576"></A>DFTAG_FID</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15578"></A>DFTAG_FID</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15580"></A>DFTAG_FID</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15584"></A>File Descriptor</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15586"></A>DFTAG_FD</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15588"></A>DFTAG_FD</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15590"></A>DFTAG_FD</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15594"></A>Data Identifier Label</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15596"></A>DFTAG_DIL</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15598"></A>DFTAG_DIL</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15600"></A>DFTAG_DIL</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15604"></A>Data Identifier Annotation</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15606"></A>DFTAG_DIA</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15608"></A>DFTAG_DIA</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15610"></A>DFTAG_DIA</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableCategory">
<A NAME="50593881_pgfId-15612"></A>Vdata</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15614"></A>Vdata Storage</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15616"></A>DFTAG_VS</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15618"></A>DFTAG_VS</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15620"></A>DFTAG_VS</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableCategory">
<A NAME="50593881_pgfId-15622"></A>Vgroups</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15624"></A>Vgroup Storage</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15626"></A>DFTAG_VG</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15628"></A>DFTAG_VG</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-15630"></A>DFTAG_VG</P>
</TD>
</TR>
</TABLE>
</DIV>
</DIV>
</DIV>
<DIV>
<H5 CLASS="Heading2">
<A NAME="50593881_pgfId-3706"></A>	11.3	Prog<A NAME="50593881_marker-12201"></A>ramming Model for the DFAN Interface <DIV>
<IMG SRC="UG_html-66.gif" ALT="">
</DIV>
</H5>
<P CLASS="Body">
<A NAME="50593881_pgfId-3708"></A>There are two general programming models for the DFAN interface; the first programming model addresses file annotation while the second addresses object annotation. In the case of file annotations, the DFAN interface relies on the calling program to initiate and terminate access to files. This approach necessitates the following programming model:</P>
<DIV>
<H6 CLASS="FM1Step">
<A NAME="50593881_pgfId-3710"></A>Open the file.</H6>
<OL>
<LI CLASS="Step">
<A NAME="50593881_pgfId-3712"></A>2.	Perform the desired file annotation operation.</LI>
<LI CLASS="Step">
<A NAME="50593881_pgfId-3714"></A>3.	Close the file.</LI>
</OL>
<P CLASS="Body">
<A NAME="50593881_pgfId-3716"></A>The object annotation programming model is a simplified version of the file annotation programming model:</P>
</DIV>
<DIV>
<H6 CLASS="FM1Step">
<A NAME="50593881_pgfId-3718"></A>Perform the desired object annotation operation.</H6>
<P CLASS="Body">
<A NAME="50593881_pgfId-3332"></A>Essentially, the difference between the two models is that file annotations require <EM CLASS="FunctionName">
Hopen</EM>
 and <EM CLASS="FunctionName">
Hclose</EM>
 to open and close the target files whereas object annotations do not. </P>
</DIV>
</DIV>
<DIV>
<H5 CLASS="Heading2">
<A NAME="50593881_pgfId-3339"></A>	11.4	Writin<A NAME="50593881_marker-12202"></A>g Annotations<DIV>
<IMG SRC="UG_html-66.gif" ALT="">
</DIV>
</H5>
<P CLASS="Body">
<A NAME="50593881_pgfId-3753"></A>The DFAN interface supports writes to file labels, file descriptions, object labels, and object descriptions.</P>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593881_pgfId-3755"></A>	11.4.1	Assignin<A NAME="50593881_marker-12204"></A>g a File Label: DFANaddfid</H6>
<P CLASS="Body">
<A NAME="50593881_pgfId-3765"></A>To wri<A NAME="50593881_marker-12205"></A>te a file label, the calling program must call <EM CLASS="FunctionName">
DFANaddfid</EM>
:</P>
<P CLASS="FM1-syntax">
<A NAME="50593881_pgfId-3767"></A><EM CLASS="syntaxLang">
C:</EM>
		status = DFANaddfid(file_id, label);</P>
<P CLASS="FM1-syntax">
<A NAME="50593881_pgfId-3773"></A><EM CLASS="syntaxLang">
FORTRAN:</EM>
	status = daafid(file_id, label)</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-3785"></A><EM CLASS="FunctionName">
DFANaddfid</EM>
<A NAME="50593881_marker-3779"></A> has two parameters: <EM CLASS="VarName">
file_id</EM>
 and <EM CLASS="VarName">
label</EM>
. The <EM CLASS="VarName">
file_id</EM>
 parameter contains the file identifier for the file to be annotated and the <EM CLASS="VarName">
label</EM>
 parameter contains the annotation string. The label array must be null-terminated. 	In the FORTRAN-77 version, the length of the label should be the length of the label array as in FORTRAN-77 string lengths are assumed to be the declared length of the array that holds the string. </P>
<P CLASS="Body">
<A NAME="50593881_pgfId-9793"></A>The parameters of <EM CLASS="FunctionName">
DFANaddfid</EM>
 are further defined in <A HREF="UG_html-11.htm#50593881_36191" CLASS="XRef">DFANaddfid and DFANaddfds Parameter List</A>.</P>
</DIV>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593881_pgfId-3787"></A>	11.4.2	A<A NAME="50593881_marker-12206"></A>ssigning a File Description: DFANaddfds</H6>
<P CLASS="Body">
<A NAME="50593881_pgfId-3799"></A>To writ<A NAME="50593881_marker-12207"></A>e a file description, the calling program must call <EM CLASS="FunctionName">
DFANaddfds</EM>
:</P>
<P CLASS="FM1-syntax">
<A NAME="50593881_pgfId-3801"></A><EM CLASS="syntaxLang">
C:</EM>
		status = DFANaddfds(file_id, description, desc_length);</P>
<P CLASS="FM1-syntax">
<A NAME="50593881_pgfId-3807"></A><EM CLASS="syntaxLang">
FORTRAN:</EM>
	status = daafds(file_id, description, desc_length)</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-3817"></A><EM CLASS="FunctionName">
DFANaddfds</EM>
 has three parameters: <EM CLASS="VarName">
file_id</EM>
, <EM CLASS="VarName">
description</EM>
, and <EM CLASS="VarName">
desc_length</EM>
. The <EM CLASS="VarName">
file_id</EM>
 parameter contains the file identifier. The parameter <EM CLASS="VarName">
description</EM>
 can contain any sequence of ASCII characters and is not limited to a single string (e.g., a carriage return may appear anywhere in the description). The <EM CLASS="VarName">
desc_length</EM>
 parameter specifies the length of the description. </P>
<P CLASS="Body">
<A NAME="50593881_pgfId-9823"></A>The parameters of <EM CLASS="FunctionName">
DFANaddfds</EM>
 are defined in <A HREF="UG_html-11.htm#50593881_36191" CLASS="XRef">Table 11C</A>. </P>
<DIV>
<H6 CLASS="Table">
<A NAME="50593881_pgfId-3822"></A><DIV>
<IMG SRC="UG_html-67.gif" ALT="">
</DIV>
<A NAME="50593881_36191"></A>DFA<A NAME="50593881_marker-12208"></A>Naddfid and <A NAME="50593881_marker-12209"></A>DFANaddfds Parameter List</H6>
<TABLE>
<TR>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15638"></A>Routine Name</P>
<H6 CLASS="ReturnType">
<A NAME="50593881_pgfId-18765"></A>[Return Type]</H6>
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15639"></A>(FORTRAN-77)</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15641"></A>Parameter</P>
</TD>
<TD ROWSPAN="1" COLSPAN="2">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15643"></A>Parameter Type</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15647"></A>Description</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15653"></A>C</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15655"></A>FORTRAN-77</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="2" COLSPAN="1">
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-15659"></A>DFANaddfid</H6>
<H6 CLASS="ReturnType">
<A NAME="50593881_pgfId-18764"></A>[intn]</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-15660"></A>(daafid)</H6>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15662"></A>file_id</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15664"></A>int32</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15666"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15668"></A>File identifier</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15672"></A>label</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15674"></A>char *</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15676"></A>character*(*)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15678"></A>File label string</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="3" COLSPAN="1">
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-15680"></A>DFANaddfds</H6>
<H6 CLASS="ReturnType">
<A NAME="50593881_pgfId-18766"></A>[intn]</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-15681"></A>(daafds)</H6>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15683"></A>file_id</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15685"></A>int32</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15687"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15689"></A>File identifier</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15693"></A>description</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15695"></A>char *</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15697"></A>character*(*)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15699"></A>File description string</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15703"></A>desc_length</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15705"></A>int32</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15707"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15709"></A>Length of the description in bytes</P>
</TD>
</TR>
</TABLE>
</DIV>
<DIV>
<H6 CLASS="Example">
<A NAME="50593881_pgfId-3824"></A><DIV>
<IMG SRC="UG_html-67.gif" ALT="">
</DIV>
Writing a File Label and a File Description</H6>
<P CLASS="Body">
<A NAME="50593881_pgfId-3826"></A>The following examples add a file label and description to the file named &quot;Example1.hdf&quot;. Notice that after the file is opened, the file_id may be used to add any combination of file annotations before the file is closed. </P>
</DIV>
</DIV>
</DIV>
</DIV>
<DIV>
<H4 CLASS="Code-C-Title">
<A NAME="50593881_pgfId-3828"></A><DIV>
<IMG SRC="UG_html-68.gif" ALT="">
</DIV>
C:		</H4>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17334"></A>#include &quot;hdf.h&quot;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17958"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17959"></A>main( )</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17960"></A>{</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17961"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17962"></A>	int32 file_id;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17963"></A>	intn status;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17964"></A>	static char file_label[] = &quot;This is a file label.&quot;;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17965"></A>	static char file_desc[] = &quot;This is a file description.&quot;;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17966"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17967"></A>	/* Open the HDF file to write the annotations. */</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17968"></A>	file_id = Hopen(&quot;Example1.hdf&quot;, DFACC_CREATE, 0);</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17969"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17970"></A>	/* Write the label to the file. */</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17971"></A>	status = DFANaddfid(file_id, file_label);</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17972"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17973"></A>	/* Write the description to the file. */</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17974"></A>	status = DFANaddfds(file_id, file_desc, strlen(file_desc));</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17975"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17976"></A>	/* Close the file. */</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17977"></A>	status = Hclose(file_id);</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17978"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17979"></A>}</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17980"></A>&nbsp;</P>
</DIV>
<DIV>
<H4 CLASS="Code-F-Title">
<A NAME="50593881_pgfId-3870"></A><DIV>
<IMG SRC="UG_html-68.gif" ALT="">
</DIV>
FORTRAN:	</H4>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-4719"></A>	 PROGRAM CREATE ANNOTATION</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17982"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17983"></A>      character*50 file_label, file_desc</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17984"></A>      integer daafid, daafds, status, file_id, hopen, hclose</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17985"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17986"></A>      integer*4 DFACC_CREATE</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17987"></A>      parameter (DFACC_CREATE = 4)</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17988"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17989"></A>      file_label = &quot;This is a file label.&quot;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17990"></A>      file_desc = &quot;This is a file description.&quot;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17991"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17992"></A>C     Open the HDF file to write the annotations.</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17993"></A>      file_id = hopen(’Example1.hdf’, DFACC_CREATE, 0)</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17994"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17995"></A>C     Write the label to the file.</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17996"></A>      status = daafid(file_id, file_label)</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17997"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17998"></A>C     Write the description to the file.</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17999"></A>      status = daafds(file_id, file_desc, 26)</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18000"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18001"></A>C     Close the file.</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18002"></A>      status = hclose(file_id)</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18003"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18004"></A>      end</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18005"></A>&nbsp;</P>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593881_pgfId-4748"></A>	11.4.3	Assig<A NAME="50593881_marker-12210"></A>ning an Object Label: DFANputlabel</H6>
<P CLASS="Body">
<A NAME="50593881_pgfId-3920"></A>To write a<A NAME="50593881_marker-12211"></A> file label, the calling program must contain a call to <EM CLASS="FunctionName">
DFANputlabel</EM>
:</P>
<P CLASS="FM1-syntax">
<A NAME="50593881_pgfId-3922"></A><EM CLASS="syntaxLang">
C:</EM>
		status = DFANputlabel(filename, tag, ref, label);</P>
<P CLASS="FM1-syntax">
<A NAME="50593881_pgfId-3924"></A><EM CLASS="syntaxLang">
FORTRAN:</EM>
	status = daplab(filename, tag, ref, label)</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-3930"></A><EM CLASS="FunctionName">
DFANputlabel</EM>
 has four parameters: <EM CLASS="VarName">
filename</EM>
, <EM CLASS="VarName">
tag</EM>
, <EM CLASS="VarName">
ref</EM>
, and <EM CLASS="VarName">
label</EM>
. The <EM CLASS="VarName">
label</EM>
 parameter contains a single null-terminated string that defines the annotation. </P>
<P CLASS="Body">
<A NAME="50593881_pgfId-10090"></A>The parameters of <EM CLASS="FunctionName">
DFANputlabel</EM>
 are further defined in <A HREF="UG_html-11.htm#50593881_18902" CLASS="XRef">Table 11D</A>.</P>
</DIV>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593881_pgfId-3932"></A>	11.4.4	Assigning an<A NAME="50593881_marker-12212"></A> Object Description: DFANputdesc</H6>
<P CLASS="Body">
<A NAME="50593881_pgfId-3934"></A>To write an o<A NAME="50593881_marker-12215"></A>bject description, the calling program must contain a call to <EM CLASS="FunctionName">
DFANputdesc</EM>
:</P>
<P CLASS="FM1-syntax">
<A NAME="50593881_pgfId-3936"></A><EM CLASS="syntaxLang">
C:</EM>
		status = DFANputdesc(filename, tag, ref, description, desc_len);</P>
<P CLASS="FM1-syntax">
<A NAME="50593881_pgfId-19653"></A><EM CLASS="syntaxLang">
FORTRAN:</EM>
	status = dapdesc(filename, tag, ref, description, desc_len)</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-19654"></A><EM CLASS="FunctionName">
DFANputdesc</EM>
 has five parameters: <EM CLASS="VarName">
filename</EM>
, <EM CLASS="VarName">
tag</EM>
, <EM CLASS="VarName">
ref</EM>
, <EM CLASS="VarName">
description</EM>
, and <EM CLASS="VarName">
desc_len</EM>
. The<EM CLASS="VarName">
 filename</EM>
 parameter is the name of the HDF file containing the object to be annotated. The <EM CLASS="VarName">
tag</EM>
 and <EM CLASS="VarName">
ref</EM>
 parameters are the tag/reference number pair of the object to be annotated. The <EM CLASS="VarName">
description</EM>
 parameter contains a buffer for the annotation text and the <EM CLASS="VarName">
desc_len</EM>
 parameter specifies the length of the buffer.</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-10097"></A>The parameters of <EM CLASS="FunctionName">
DFANputdesc</EM>
 are further defined in <A HREF="UG_html-11.htm#50593881_18902" CLASS="XRef">Table 11D</A>.</P>
<DIV>
<H6 CLASS="Table">
<A NAME="50593881_pgfId-3951"></A><DIV>
<IMG SRC="UG_html-67.gif" ALT="">
</DIV>
<A NAME="50593881_18902"></A>DFANpu<A NAME="50593881_marker-12216"></A>tlabel and DFANputd<A NAME="50593881_marker-12217"></A>esc Parameter List</H6>
<TABLE>
<TR>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15718"></A>Routine Name</P>
<H6 CLASS="ReturnType">
<A NAME="50593881_pgfId-18767"></A>[Return Type]</H6>
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15719"></A>(FORTRAN-77)</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15721"></A>Parameter</P>
</TD>
<TD ROWSPAN="1" COLSPAN="2">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15723"></A>Parameter Type</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15727"></A>Description</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15733"></A>C</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15735"></A>FORTRAN-77</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="4" COLSPAN="1">
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-15739"></A>DFANputlabel</H6>
<H6 CLASS="ReturnType">
<A NAME="50593881_pgfId-18768"></A>[intn]</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-15740"></A>(daplab)</H6>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15742"></A>filename</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15744"></A>char *</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15746"></A>character*(*)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15748"></A>Name of the file to be accessed</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15752"></A>tag</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15754"></A>uint16</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15756"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15758"></A>Tag of the object to be annotated</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15762"></A>ref</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15764"></A>uint16</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15766"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15768"></A>Reference number of the object to be annotated</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15772"></A>label</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15774"></A>char *</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15776"></A>character*(*)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15778"></A>Object label string</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="5" COLSPAN="1">
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-15780"></A>DFANputdesc</H6>
<H6 CLASS="ReturnType">
<A NAME="50593881_pgfId-18769"></A>[int]</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-15781"></A>(dapdesc)</H6>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15783"></A>filename</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15785"></A>char *</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15787"></A>character*(*)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15789"></A>Name of the file to be accessed</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15793"></A>tag</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15795"></A>uint16</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15797"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15799"></A>Tag of the object to be annotated</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15803"></A>ref</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15805"></A>uint16</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15807"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15809"></A>Reference number of the object to be annotated</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15813"></A>description</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15815"></A>char *</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15817"></A>character*(*)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15819"></A>Object description string</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15823"></A>desc_len</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15825"></A>int32</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15827"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15829"></A>Length of the description in bytes</P>
</TD>
</TR>
</TABLE>
</DIV>
<DIV>
<H6 CLASS="Example">
<A NAME="50593881_pgfId-3953"></A><DIV>
<IMG SRC="UG_html-67.gif" ALT="">
</DIV>
Writing an Object Label and Description to a Scientific Data Set </H6>
<P CLASS="Body">
<A NAME="50593881_pgfId-4830"></A>These examples illustrate the use of <EM CLASS="FunctionName">
DFANputlabel</EM>
 and <EM CLASS="FunctionName">
DFANputdesc</EM>
 to assign both an object label and an object description to a scientific data set immediately after it is written to file. The tag for scientific data sets is <EM CLASS="DefName">
DFTAG_NDG</EM>
. </P>
</DIV>
</DIV>
</DIV>
<DIV>
<H4 CLASS="Code-C-Title">
<A NAME="50593881_pgfId-3957"></A><DIV>
<IMG SRC="UG_html-68.gif" ALT="">
</DIV>
C:		</H4>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17407"></A>#include &quot;hdf.h&quot;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18012"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18013"></A>#define X_LENGTH 3</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18014"></A>#define Y_LENGTH 2</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18015"></A>#define Z_LENGTH 5</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18016"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18017"></A>main( )</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18018"></A>{</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18019"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18020"></A>	/* Create the data array. */</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18021"></A>	static float32 sds_data[X_LENGTH][Y_LENGTH][Z_LENGTH] =</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18022"></A>	{  1,  2,  3,  4,  5,</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18023"></A>	   6,  7,  8,  9, 10,</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18024"></A>	  11, 12, 13, 14, 15,</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18025"></A>	  16, 17, 18, 19, 20,</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18026"></A>	  21, 22, 23, 24, 25,</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18027"></A>	  26, 27, 28, 29, 30 };</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18028"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18029"></A>	/* </P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18030"></A>	* Create the array that will hold the dimensions of </P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18031"></A>	* the data array.</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18032"></A>	*/</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18033"></A>	int32 dims[3] = {X_LENGTH, Y_LENGTH, Z_LENGTH};</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18034"></A>	intn refnum, status;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18035"></A>	static char object_desc[] = &quot;This is an object description.&quot;;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18036"></A>	static char object_label[] = &quot;This is an object label.&quot;;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18037"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18038"></A>	/* Write the data to the HDF file. */</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18039"></A>	status = DFSDadddata(&quot;Example1.hdf&quot;, 3, dims, (VOIDP)sds_data);</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18040"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18041"></A>	/* Get the reference number for the newly written data set. */</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18042"></A>	refnum = DFSDlastref( );</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18043"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18044"></A>	/* Assign the object label to the scientific data set. */</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18045"></A>	status = DFANputlabel(&quot;Example1.hdf&quot;, DFTAG_NDG, refnum, \</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18046"></A>					object_label); </P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18047"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18048"></A>	/* Assign the object description to the scientific data set. */</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18049"></A>	status = DFANputdesc(&quot;Example1.hdf&quot;, DFTAG_NDG, refnum, \</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18050"></A>					object_desc, strlen(object_desc));</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18051"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18052"></A>}</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-26562"></A>&nbsp;</P>
</DIV>
<DIV>
<H4 CLASS="Code-F-Title">
<A NAME="50593881_pgfId-26563"></A><DIV>
<IMG SRC="UG_html-68.gif" ALT="">
</DIV>
FORTRAN:	</H4>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-26565"></A>	 PROGRAM ANNOTATE OBJECT</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18055"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18056"></A>      integer dsadata, dims(3), status, refnum</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18057"></A>      integer daplab, dapdesc, dslref</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18058"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18059"></A>      integer*4 DFTAG_NDG, X_LENGTH, Y_LENGTH, Z_LENGTH</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18060"></A>      parameter(DFTAG_NDG = 720,</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18061"></A>     +          X_LENGTH = 5,</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18062"></A>     +          Y_LENGTH = 2,</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18063"></A>     +          Z_LENGTH = 3)</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18064"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18065"></A>C     Create the data array.</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18066"></A>      real*4 sds_data(X_LENGTH, Y_LENGTH, Z_LENGTH)</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18067"></A>      data sds_data /                            </P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18068"></A>     +          1,  2,  3,  4,  5,  </P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18069"></A>     +          6,  7,  8,  9, 10,</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18070"></A>     +         11, 12, 13, 14, 15,</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18071"></A>     +         16, 17, 18, 19, 20,</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18072"></A>     +         21, 22, 23, 24, 25,</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18073"></A>     +         26, 27, 28, 29, 30  /</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18074"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18075"></A>C     Create the array the will hold the dimensions of the data array.</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18076"></A>      data dims /X_LENGTH, Y_LENGTH, Z_LENGTH/</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18077"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18078"></A>C     Write the data to the HDF file.</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18079"></A>      ref = dsadata(’Example1.hdf’, 3, dims, sds_data)</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18080"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18081"></A>C     Get the reference number for the newly written data set. </P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18082"></A>      refnum = dslref( )</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18083"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18084"></A>C     Assign the object label to the scientific data set.</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18085"></A>      status = daplab(’Example1.hdf’, DFTAG_NDG, refnum, </P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18086"></A>     +             ’This is an object label.’)</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18087"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18088"></A>C     Assign an object description to the scientific data set.</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18089"></A>      status = dapdesc(’Example1.hdf’, DFTAG_NDG, refnum, </P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18090"></A>     +              ’This is an object description.’, 30)</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18091"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18092"></A>      end</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18093"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-4087"></A><A NAME="50593881_marker-12203"></A>&nbsp;</P>
<DIV>
<H5 CLASS="Heading2">
<A NAME="50593881_pgfId-4089"></A>	11.5	Rea<A NAME="50593881_marker-12218"></A>ding Annotations<DIV>
<IMG SRC="UG_html-66.gif" ALT="">
</DIV>
</H5>
<P CLASS="Body">
<A NAME="50593881_pgfId-3404"></A>The DFAN interface provides several functions for reading file and data object annotations, which are described below. </P>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593881_pgfId-4093"></A>	11.5.1	Reading<A NAME="50593881_marker-12220"></A> a File Label: DFANgetfidlen and DFANgetfid</H6>
<P CLASS="Body">
<A NAME="50593881_pgfId-4095"></A>The DFAN programming model for reading a file label is as follows:</P>
<DIV>
<H6 CLASS="FM1Step">
<A NAME="50593881_pgfId-4099"></A>Get the length of the label.</H6>
<OL>
<LI CLASS="Step">
<A NAME="50593881_pgfId-4101"></A>2.	Read the file label.</LI>
</OL>
<P CLASS="Body">
<A NAME="50593881_pgfId-4105"></A>To read the fir<A NAME="50593881_marker-12221"></A>st file label in a file, the calling program must contain the following function calls:</P>
<P CLASS="FM1-syntax">
<A NAME="50593881_pgfId-4107"></A><EM CLASS="syntaxLang">
C:</EM>
		isfirst = 1;</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-4111"></A>		label_length = DFANgetfidlen(file_id, isfirst);</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-4113"></A>		label_buffer = HDgetspace(label_length);</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-4115"></A>		fid_len = DFANgetfid(file_id, label_buffer, label_length, isfirst);</P>
<P CLASS="FM1-syntax">
<A NAME="50593881_pgfId-23481"></A><EM CLASS="syntaxLang">
FORTRAN:</EM>
	isfirst = 1</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-23482"></A>		label_length = dagfidl(file_id, isfirst)</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-4125"></A>		fid_len = dagfid(file_id, label_buffer, label_length, isfirst)</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-19659"></A><EM CLASS="FunctionName">
DFANgetfidlen</EM>
 has two parameters: <EM CLASS="VarName">
file_id</EM>
 and <EM CLASS="VarName">
isfirst</EM>
. The <EM CLASS="VarName">
isfirst</EM>
 parameter specifies whether the first or subsequent file annotations are to be read. To read the first file label length, <EM CLASS="VarName">
isfirst</EM>
 should be set to the value <EM CLASS="DefName">
1</EM>
; to sequentially step through all the remaining file labels assigned to a file <EM CLASS="VarName">
isfirst</EM>
 should be set to <EM CLASS="DefName">
0</EM>
.</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-4135"></A>When <EM CLASS="FunctionName">
DFANgetfidlen</EM>
 is first called for a given file, it returns the length of the first file label. To get the lengths of subsequent file labels, you must call <EM CLASS="FunctionName">
DFANgetfid</EM>
<A NAME="50593881_marker-4132"></A><A NAME="50593881_marker-4134"></A><A NAME="50593881_marker-12222"></A> between calls to <EM CLASS="FunctionName">
DFANgetfidlen</EM>
. Otherwise, additional calls to <EM CLASS="FunctionName">
DFANgetfidlen</EM>
 will return the length of the same file label.</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-19607"></A><EM CLASS="FunctionName">
DFANgetfid</EM>
 has four parameters: <EM CLASS="VarName">
file_id</EM>
, <EM CLASS="VarName">
label_buffer</EM>
, <EM CLASS="VarName">
label_length</EM>
, and <EM CLASS="VarName">
isfirst</EM>
. The <EM CLASS="VarName">
label_buffer</EM>
 parameter is a pointer to a buffer for the label text. The <EM CLASS="VarName">
label_length</EM>
 parameter is the length of the buffer in memory, which can be shorter than the full length of the label in the file. If the <EM CLASS="VarName">
label_length</EM>
 is not large enough, the label is truncated to <EM CLASS="VarName">
label_length</EM>
 - 1 characters in the buffer <EM CLASS="VarName">
label_buffer</EM>
. The <EM CLASS="VarName">
isfirst</EM>
 parameter is used to determine whether to read the first or subsequent file annotations. To read the first file label, <EM CLASS="VarName">
isfirst</EM>
 should be set to <EM CLASS="DefName">
1</EM>
; to sequentially step through all the remaining file labels assigned to a file, <EM CLASS="VarName">
isfirst</EM>
 should be set to <EM CLASS="DefName">
0</EM>
.<A NAME="50593881_marker-19608"></A> </P>
<P CLASS="Body">
<A NAME="50593881_pgfId-19609"></A><EM CLASS="FunctionName">
HDgetspace</EM>
 is described in <A HREF="UG_html-2.htm#50593872_13138" CLASS="XRef">HDF Fundamentals</A>.</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-19612"></A>The parameters of <EM CLASS="FunctionName">
DFANgetfidlen</EM>
 and <EM CLASS="FunctionName">
DFANgetfid</EM>
 are described in <A HREF="UG_html-11.htm#50593881_33889" CLASS="XRef">Table 11E</A>.</P>
</DIV>
</DIV>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593881_pgfId-4141"></A>	11.5.2	Reading a Fi<A NAME="50593881_marker-12223"></A>le Description: DFANgetfdslen and DFANgetfds</H6>
<P CLASS="Body">
<A NAME="50593881_pgfId-4143"></A>The DFAN programming model for reading a file description is as follows:</P>
<DIV>
<H6 CLASS="FM1Step">
<A NAME="50593881_pgfId-4147"></A>Get the length of the description.</H6>
<OL>
<LI CLASS="Step">
<A NAME="50593881_pgfId-4149"></A>2.	Read the file description.</LI>
</OL>
<P CLASS="Body">
<A NAME="50593881_pgfId-4153"></A>To read the first file description<A NAME="50593881_marker-12224"></A> in a file, the calling program must contain the following calls:</P>
<P CLASS="FM1-syntax">
<A NAME="50593881_pgfId-4155"></A><EM CLASS="syntaxLang">
C:</EM>
		isfirst = 1;</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-4159"></A>		desc_length = DFANgetfdslen(file_id, isfirst);</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-4161"></A>		desc_buffer = HDgetspace(desc_length);</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-4163"></A>		fds_len = DFANgetfds(file_id, desc_buf, desc_length, isfirst);</P>
<P CLASS="FM1-syntax">
<A NAME="50593881_pgfId-4167"></A><EM CLASS="syntaxLang">
FORTRAN:</EM>
	isfirst = 1</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-4171"></A>		desc_length = dagfdsl(file_id, isfirst)</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-4173"></A>		fds_len = dagfds(file_id, desc_buf, desc_length, isfirst)</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-10338"></A><EM CLASS="FunctionName">
DFANgetfdslen</EM>
 has two parameters: <EM CLASS="VarName">
file_id</EM>
 and <EM CLASS="VarName">
isfirst</EM>
. The <EM CLASS="VarName">
isfirst</EM>
 parameter specifies whether the first or subsequent file annotations are to be read. To read the first file description length, <EM CLASS="VarName">
isfirst</EM>
 should be set to the value <EM CLASS="DefName">
1</EM>
; to sequentially step through all the remaining file descriptions assigned to a file, <EM CLASS="VarName">
isfirst</EM>
 should be set to <EM CLASS="DefName">
0</EM>
.</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-10336"></A>When <EM CLASS="FunctionName">
DFANgetfdslen</EM>
 is first called for a given file, it returns the length of the first file description. As with <EM CLASS="FunctionName">
DFANgetfidlen</EM>
, you must call <EM CLASS="FunctionName">
DFANgetfds</EM>
<A NAME="50593881_marker-4180"></A><A NAME="50593881_marker-4182"></A><A NAME="50593881_marker-12225"></A> between calls to <EM CLASS="FunctionName">
DFANgetfdslen</EM>
 to get the lengths of successive file descriptions.</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-2809"></A><EM CLASS="FunctionName">
DFANgetfds</EM>
 has four parameters: <EM CLASS="VarName">
file_id</EM>
, <EM CLASS="VarName">
desc_buf</EM>
, <EM CLASS="VarName">
desc_length</EM>
, and <EM CLASS="VarName">
isfirst</EM>
. The <EM CLASS="VarName">
desc_buffer</EM>
 parameter is a pointer to a buffer for the description text. The <EM CLASS="VarName">
desc_length</EM>
 parameter is the length of the buffer in memory, which can be shorter than the full length of the description in the file. If <EM CLASS="VarName">
desc_length</EM>
 is not large enough, the description is truncated to <EM CLASS="VarName">
desc_length</EM>
 characters in the buffer <EM CLASS="VarName">
desc_buf</EM>
. The <EM CLASS="VarName">
isfirst</EM>
 parameter specifies whether the first or subsequent file annotations are to be read. To read the first file description, <EM CLASS="VarName">
isfirst</EM>
 should be set to the value <EM CLASS="DefName">
1</EM>
; to sequentially step through all the remaining file descriptions assigned to a file, <EM CLASS="VarName">
isfirst</EM>
 should be set to <EM CLASS="DefName">
0</EM>
. </P>
<P CLASS="Body">
<A NAME="50593881_pgfId-10395"></A>The parameters of these routines are described further in the following table.</P>
</DIV>
<DIV>
<H6 CLASS="Table">
<A NAME="50593881_pgfId-2971"></A><DIV>
<IMG SRC="UG_html-67.gif" ALT="">
</DIV>
<A NAME="50593881_33889"></A>DFANgetf<A NAME="50593881_marker-12229"></A>idlen, DFANg<A NAME="50593881_marker-12230"></A>etfid, DFANge<A NAME="50593881_marker-12231"></A>tfdslen, and DFAN<A NAME="50593881_marker-12232"></A>getfds Parameter List</H6>
<TABLE>
<TR>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15838"></A>Routine Name</P>
<H6 CLASS="ReturnType">
<A NAME="50593881_pgfId-18770"></A>[Return Type]</H6>
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15839"></A>(FORTRAN-77)</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15841"></A>Parameter</P>
</TD>
<TD ROWSPAN="1" COLSPAN="2">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15843"></A>Parameter Type</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15847"></A>Description</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15853"></A>C</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15855"></A>FORTRAN-77</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="2" COLSPAN="1">
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-15859"></A>DFANgetfidlen</H6>
<H6 CLASS="ReturnType">
<A NAME="50593881_pgfId-18771"></A>[int32]</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-15860"></A>(dagfidl)</H6>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15862"></A>file_id</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15864"></A>int32</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15866"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15868"></A>File identifier</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15872"></A>isfirst</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15874"></A>intn</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15876"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15878"></A>Location of the next annotation</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="4" COLSPAN="1">
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-15880"></A>DFANgetfid</H6>
<H6 CLASS="ReturnType">
<A NAME="50593881_pgfId-18772"></A>[int32]</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-15881"></A>(dagfid)</H6>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15883"></A>file_id</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15885"></A>int32</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15887"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15889"></A>File identifier</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15893"></A>desc_buf</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15895"></A>char *</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15897"></A>character*(*)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15899"></A>File label buffer</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15903"></A>buf_length</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15905"></A>int32</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15907"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15909"></A>Label buffer length</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15913"></A>isfirst</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15915"></A>intn</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15917"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15919"></A>Location of the next annotation</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="2" COLSPAN="1">
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-15921"></A>DFANgetfdslen</H6>
<H6 CLASS="ReturnType">
<A NAME="50593881_pgfId-18773"></A>[int32]</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-15922"></A>(dagfdsl)</H6>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15924"></A>file_id</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15926"></A>int32</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15928"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15930"></A>File identifier</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15934"></A>isfirst</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15936"></A>intn</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15938"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15940"></A>Location of the next annotation</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="4" COLSPAN="1">
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-15942"></A>DFANgetfds</H6>
<H6 CLASS="ReturnType">
<A NAME="50593881_pgfId-18774"></A>[int32]</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-15943"></A>(dagfds)</H6>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15945"></A>file_id</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15947"></A>int32</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15949"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15951"></A>File identifier</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15955"></A>description</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15957"></A>char *</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15959"></A>character*(*)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15961"></A>File description buffer</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15965"></A>desc_length</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15967"></A>int32</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15969"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15971"></A>Description buffer length</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15975"></A>isfirst</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15977"></A>intn</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-15979"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-15981"></A>Location of the next annotation</P>
</TD>
</TR>
</TABLE>
</DIV>
<DIV>
<H6 CLASS="Example">
<A NAME="50593881_pgfId-4192"></A><DIV>
<IMG SRC="UG_html-67.gif" ALT="">
</DIV>
Reading a File Label and a File Description </H6>
<P CLASS="Body">
<A NAME="50593881_pgfId-4913"></A>The following examples read a file label from the HDF file named &quot;Example1.hdf&quot;. The <EM CLASS="FunctionName">
DFANgetfidlen</EM>
 routine is used to verify the length of the label before the read operation is performed. The argument &quot;1&quot; in both routines indicate the first description in the HDF file is the target. <EM CLASS="FunctionName">
DFANgetfdslen</EM>
 and <EM CLASS="FunctionName">
DFANgetfds</EM>
 can be directly substituted for <EM CLASS="FunctionName">
DFANgetfidlen</EM>
 and <EM CLASS="FunctionName">
DFANgetfid</EM>
 in order to read a file description instead of a file label.</P>
</DIV>
</DIV>
</DIV>
</DIV>
<DIV>
<H4 CLASS="Code-C-Title">
<A NAME="50593881_pgfId-14427"></A><DIV>
<IMG SRC="UG_html-68.gif" ALT="">
</DIV>
C:		</H4>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17477"></A>#include &quot;hdf.h&quot;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18100"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18101"></A>main( )</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18102"></A>{</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18103"></A>	int32 file_id, file_label_len;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18104"></A>	char *file_label;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18105"></A>	intn status;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18106"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18107"></A>	/* Open the HDF file containing the annotation. */</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18108"></A>	file_id = Hopen(&quot;Example1.hdf&quot;, DFACC_READ, 0);</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18109"></A>      </P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18110"></A>	/* Determine the length of the file label. */</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18111"></A>	file_label_len = DFANgetfidlen(file_id, 1);</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18112"></A>    </P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18113"></A>	/* Allocated memory for the file label buffer. */</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18114"></A>	file_label = HDgetspace(file_label_len);</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18115"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18116"></A>	/* Read the file label. */</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18117"></A>	file_label_len = DFANgetfid(file_id, file_label, file_label_len, 1);</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18118"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18119"></A>	/* Close the file */</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18120"></A>	status = Hclose(file_id);</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18121"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18122"></A>}</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18123"></A>&nbsp;</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-33300"></A>&nbsp;</P>
</DIV>
<DIV>
<H4 CLASS="Code-F-Title">
<A NAME="50593881_pgfId-14429"></A><DIV>
<IMG SRC="UG_html-68.gif" ALT="">
</DIV>
FORTRAN:	</H4>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-3481"></A>	 PROGRAM GET ANNOTATION</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18125"></A>      </P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18126"></A>      integer status, file_id, label_length</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18127"></A>      integer hopen, hclose, dagfidl, dagfid </P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18128"></A>      character file_label(50)</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18129"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18130"></A>      integer*4 DFACC_READ</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18131"></A>      parameter(DFACC_READ = 1)</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18132"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18133"></A>C     Open the HDF file containing the file label.</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18134"></A>      file_id = hopen(&quot;Example1.hdf&quot;, DFACC_READ, 0)</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18135"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18136"></A>C     Determine the length of the file label.</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18137"></A>      label_length = dagfidl(file_id, 1)</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18138"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18139"></A>C     Read the file label.</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18140"></A>      status = dagfid(file_id, file_label, label_length, 1)</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18141"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18142"></A>C     Close the HDF file.</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18143"></A>      status = hclose(file_id)</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18144"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18145"></A>      end</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18146"></A>&nbsp;</P>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593881_pgfId-4286"></A>	11.5.3	Re<A NAME="50593881_marker-12233"></A>ading an Object Label: DFANgetlablen and DFANgetlabel</H6>
<P CLASS="Body">
<A NAME="50593881_pgfId-4288"></A>The DFAN programming model for reading a data object label is as follows:</P>
<DIV>
<H6 CLASS="FM1Step">
<A NAME="50593881_pgfId-4290"></A>Get the length of the label.</H6>
<OL>
<LI CLASS="Step">
<A NAME="50593881_pgfId-4292"></A>2.	Read the file label.</LI>
</OL>
<P CLASS="Body">
<A NAME="50593881_pgfId-4294"></A>To read the first object label in a file, the calling program must contain the following routines:</P>
<P CLASS="FM1-syntax">
<A NAME="50593881_pgfId-4296"></A><EM CLASS="syntaxLang">
C:</EM>
		label_length = DFANgetlablen(filename, tag, ref);</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-4298"></A>		label_buf = HDgetspace(label_length);</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-4300"></A>		status = DFANgetlabel(filename, tag, ref, label_buf, label_length);</P>
<P CLASS="FM1-syntax">
<A NAME="50593881_pgfId-4302"></A><EM CLASS="syntaxLang">
FORTRAN:</EM>
	label_length = daglabl(filename, tag, ref)</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-4304"></A>		status = daglab(filename, tag, ref, label_buf, label_length)</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-4310"></A><EM CLASS="FunctionName">
DFANgetlablen</EM>
<A NAME="50593881_marker-12234"></A> returns the length of the label assigned to the object identified by the given tag/reference number pair. <EM CLASS="FunctionName">
DFANgetlabel</EM>
<A NAME="50593881_marker-12236"></A> must be called <A NAME="50593881_marker-4307"></A><A NAME="50593881_marker-4309"></A>between calls to <EM CLASS="FunctionName">
DFANgetlablen</EM>
. <EM CLASS="FunctionName">
DFANgetlabel</EM>
<A NAME="50593881_marker-19842"></A> is the routine that actually returns the label and prepares the API to read the next label.</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-4312"></A><EM CLASS="FunctionName">
DFANgetlabel</EM>
 has five parameters: <EM CLASS="VarName">
filename</EM>
, <EM CLASS="VarName">
tag</EM>
, <EM CLASS="VarName">
ref</EM>
, <EM CLASS="VarName">
label_buf</EM>
, and <EM CLASS="VarName">
label_length</EM>
. The <EM CLASS="VarName">
label_buf</EM>
 parameter is a pointer to a buffer that stores the label text. The <EM CLASS="VarName">
label_length</EM>
 parameter is the length of the buffer in memory. <EM CLASS="VarName">
label_length</EM>
 can be shorter than the full length of the label in the file, but if so, the label is truncated to <EM CLASS="VarName">
label_length</EM>
 characters in the buffer <EM CLASS="VarName">
label_buf</EM>
. The length of <EM CLASS="VarName">
label_buf</EM>
 must be at least one greater than the anticipated length of the label to account for the null termination appended to the label text. </P>
<P CLASS="Body">
<A NAME="50593881_pgfId-10751"></A>The parameters of <EM CLASS="FunctionName">
DFANgetlablen</EM>
 and <EM CLASS="FunctionName">
DFANgetlabel</EM>
 are defined below. </P>
</DIV>
</DIV>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593881_pgfId-4314"></A>	11.5.4	Readin<A NAME="50593881_marker-12237"></A>g an Object Description: DFANgetdesclen and DFANgetdesc</H6>
<P CLASS="Body">
<A NAME="50593881_pgfId-4316"></A>The DFAN programming model for reading a data object description is as follows:</P>
<DIV>
<H6 CLASS="FM1Step">
<A NAME="50593881_pgfId-4318"></A>Get the length of the description.</H6>
<OL>
<LI CLASS="Step">
<A NAME="50593881_pgfId-4320"></A>2.	Read the file description.</LI>
</OL>
<P CLASS="Body">
<A NAME="50593881_pgfId-4322"></A>To read the first object description in a file, the calling program must contain the following routines:</P>
<P CLASS="FM1-syntax">
<A NAME="50593881_pgfId-4324"></A><EM CLASS="syntaxLang">
C:</EM>
		desc_length = DFANgetdesclen(filename, tag, ref);</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-4326"></A>		desc_buf = HDgetspace(desc_length);</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-4328"></A>		status = DFANgetdesc(filename, tag, ref, desc_buf, desc_length);</P>
<P CLASS="FM1-syntax">
<A NAME="50593881_pgfId-4330"></A><EM CLASS="syntaxLang">
FORTRAN:</EM>
	label_length = dagdlen(filename, tag, ref)</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-4332"></A>		status = dagdesc(filename, tag, ref, desc_buf, desc_length)</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-4338"></A><EM CLASS="FunctionName">
DFANgetdesclen</EM>
<A NAME="50593881_marker-12238"></A> returns the length of the description assigned to the object identified by the specified tag/reference number pair. <EM CLASS="FunctionName">
DFANgetdesc</EM>
 must be called <A NAME="50593881_marker-4335"></A><A NAME="50593881_marker-4337"></A>between calls to <EM CLASS="FunctionName">
DFANgetdesclen</EM>
 to reset the current object description to the next in the file.</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-4346"></A><EM CLASS="FunctionName">
DFANgetdesc</EM>
<A NAME="50593881_marker-12239"></A> takes five parameters: <EM CLASS="VarName">
filename</EM>
, <EM CLASS="VarName">
tag</EM>
, <EM CLASS="VarName">
ref</EM>
, <EM CLASS="VarName">
desc_buf</EM>
, and <EM CLASS="VarName">
desc_length</EM>
. The <EM CLASS="VarName">
desc_buf</EM>
 parameter is a pointer to the buffer that stores the description text. The <EM CLASS="VarName">
desc_length</EM>
 parameter is the length of the buffer in memory, which can be shorter than the full length of the description in the file. If the <EM CLASS="VarName">
desc_length</EM>
 is not large enough, the description is truncated to <EM CLASS="VarName">
desc_length</EM>
 characters in the buffer <EM CLASS="VarName">
desc_buf</EM>
.</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-10786"></A>The parameters of <EM CLASS="FunctionName">
DFANgetdesclen</EM>
 and <EM CLASS="FunctionName">
DFANgetdesc</EM>
 are defined in the following table.</P>
</DIV>
<DIV>
<H6 CLASS="Table">
<A NAME="50593881_pgfId-4351"></A><DIV>
<IMG SRC="UG_html-67.gif" ALT="">
</DIV>
DFAN<A NAME="50593881_marker-12240"></A>getlablen, DFANg<A NAME="50593881_marker-12241"></A>etlabel, DFANg<A NAME="50593881_marker-12242"></A>etdesc and DFANge<A NAME="50593881_marker-12243"></A>tdesclen Parameter List<A NAME="50593881_Table 3J"></A></H6>
<TABLE>
<TR>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15989"></A>Routine Name</P>
<H6 CLASS="ReturnType">
<A NAME="50593881_pgfId-18775"></A>[Return Type]</H6>
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15990"></A>(FORTRAN-77)</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15992"></A>Parameter</P>
</TD>
<TD ROWSPAN="1" COLSPAN="2">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15994"></A>Parameter Type</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-15998"></A>Description</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-16004"></A>C</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-16006"></A>FORTRAN-77</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="3" COLSPAN="1">
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-16010"></A>DFANgetlablen</H6>
<H6 CLASS="ReturnType">
<A NAME="50593881_pgfId-18776"></A>[int32]</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-16011"></A>(dagllen)</H6>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16013"></A>filename</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16015"></A>char *</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16017"></A>character*(*)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-16019"></A>Name of the file to be accessed</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16023"></A>tag</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16025"></A>uint16</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16027"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-16029"></A>Tag assigned to the annotated object</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16033"></A>ref</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16035"></A>uint16</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16037"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-16039"></A>Reference number for the annotated object</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="5" COLSPAN="1">
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-16041"></A>DFANgetlabel</H6>
<H6 CLASS="ReturnType">
<A NAME="50593881_pgfId-18777"></A>[intn]</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-16042"></A>(daglab)</H6>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16044"></A>filename</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16046"></A>char *</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16048"></A>character*(*)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-16050"></A>Name of the file to be accessed</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16054"></A>tag</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16056"></A>uint16</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16058"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-16060"></A>Tag assigned to the annotated object</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16064"></A>ref</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16066"></A>uint16</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16068"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-16070"></A>Reference number assigned to the annotated object</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16074"></A>label_buf</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16076"></A>char *</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16078"></A>character*(*)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-16080"></A>Buffer for the returned annotation</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16084"></A>label_length</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16086"></A>int32</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16088"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-16090"></A>Size of the buffer allocated to hold the annotation</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="3" COLSPAN="1">
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-16092"></A>DFANgetdesclen</H6>
<H6 CLASS="ReturnType">
<A NAME="50593881_pgfId-18778"></A>[int32]</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-16093"></A>(dagdlen)</H6>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16095"></A>filename</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16097"></A>char *</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16099"></A>character*(*)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-16101"></A>Name of the file to be accessed</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16105"></A>tag</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16107"></A>uint16</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16109"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-16111"></A>Tag assigned to the annotated object</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16115"></A>ref</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16117"></A>uint16</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16119"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-16121"></A>Reference number for the annotated object</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="5" COLSPAN="1">
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-16123"></A>DFANgetdesc</H6>
<H6 CLASS="ReturnType">
<A NAME="50593881_pgfId-18779"></A>[intn]</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-16124"></A>(dagdesc)</H6>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16126"></A>filename</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16128"></A>char *</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16130"></A>character*(*)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-16132"></A>Name of the file to be accessed</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16136"></A>tag</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16138"></A>uint16</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16140"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-16142"></A>Tag assigned to the annotated object</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16146"></A>ref</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16148"></A>uint16</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16150"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-16152"></A>Reference number assigned to the annotated object</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16156"></A>desc_buf</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16158"></A>char *</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16160"></A>character*(*)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-16162"></A>Buffer for the returned annotation</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16166"></A>desc_length</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16168"></A>int32</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16170"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-16172"></A>Size of the buffer allocated to hold the annotation</P>
</TD>
</TR>
</TABLE>
</DIV>
<DIV>
<H6 CLASS="Example">
<A NAME="50593881_pgfId-4355"></A><DIV>
<IMG SRC="UG_html-67.gif" ALT="">
</DIV>
<A NAME="50593881_marker-4353"></A>Reading an Object Label and Description </H6>
<P CLASS="Body">
<A NAME="50593881_pgfId-4966"></A>The following examples demonstrate the use of <EM CLASS="FunctionName">
DFANgetdesclen</EM>
 and <EM CLASS="FunctionName">
DFANgetdesc</EM>
 to read an object description assigned to a scientific data set. These examples assume that, in addition to other data objects, the &quot;Example1.hdf&quot; HDF file also contains multiple scientific data sets, some of which may not be annotated. <EM CLASS="FunctionName">
Hfind</EM>
 is used to determine the reference number for the first annotated scientific data object in the file.</P>
</DIV>
</DIV>
</DIV>
<DIV>
<H4 CLASS="Code-C-Title">
<A NAME="50593881_pgfId-4361"></A><DIV>
<IMG SRC="UG_html-68.gif" ALT="">
</DIV>
C:		</H4>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17550"></A>#include &quot;hdf.h&quot;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18153"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18154"></A>main( )</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18155"></A>{</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18156"></A>	intn desc_length = -1, status;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18157"></A>	char desc[50];</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18158"></A>	int32 file_id;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18159"></A>	uint16 tag = 0, ref = 0;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18160"></A>	uint32 find_offset, find_length;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18161"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18162"></A>	/* Open the file and initialize the searching parameters to 0. */</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18163"></A>	file_id = Hopen(&quot;Example1.hdf&quot;, DFACC_READ, 0);</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18164"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18165"></A>	/*</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18166"></A>	* Start a sequential forward search for the first reference</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18167"></A>	* number assigned to a scientific data set.</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18168"></A>	*/</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18169"></A>	while (Hfind(file_id, DFTAG_NDG, DFREF_WILDCARD, &amp;tag, &amp;ref, \</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18170"></A>		&amp;find_offset, &amp;find_length, DF_FORWARD) != FAIL) {</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18171"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18172"></A>	/*</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18173"></A>	* After discovering a valid reference number, check for an</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18174"></A>	* object description by returning the length of the description.</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18175"></A>	* If the inquiry fails, continue searching for the next valid</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18176"></A>	* reference number assigned to a scientific data set.</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18177"></A>	*/</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18178"></A>	if ((desc_length = DFANgetdesclen(&quot;Example1.hdf&quot;, tag, ref)) \</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18179"></A>		== FAIL)</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18180"></A>		break;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18181"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18182"></A>	/* </P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18183"></A>	* If a description exists and it will fit in the description buffer,</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18184"></A>	* print it.</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18185"></A>	*/</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18186"></A>	if (desc_length != FAIL &amp;&amp; desc_length &lt;= 50) {</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18187"></A>		status = DFANgetdesc(&quot;Example1.hdf&quot;, tag, ref, desc, desc_length);</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18188"></A>		printf(&quot;Description: %s\n&quot;, desc);</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18189"></A>	}</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18190"></A>	}</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18191"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18192"></A>	/* Close the file. */</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18193"></A>	status = Hclose(file_id);</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18194"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18195"></A>}</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18196"></A>&nbsp;</P>
</DIV>
<DIV>
<H4 CLASS="Code-F-Title">
<A NAME="50593881_pgfId-4451"></A><DIV>
<IMG SRC="UG_html-68.gif" ALT="">
</DIV>
FORTRAN:				</H4>
<P CLASS="Body">
<A NAME="50593881_pgfId-12513"></A>There is no FORTRAN-77 version of the Example 4 C code for this version of the documentation as there is no FORTRAN-77 equivalent of <EM CLASS="FunctionName">
Hfind</EM>
.<A NAME="50593881_marker-12514"></A></P>
<DIV>
<H5 CLASS="Heading2">
<A NAME="50593881_pgfId-12520"></A>	11.6	Maintenance Routines<DIV>
<IMG SRC="UG_html-66.gif" ALT="">
</DIV>
</H5>
<P CLASS="Body">
<A NAME="50593881_pgfId-12521"></A>The DFAN interface provides one function for interface maintenance, <EM CLASS="FunctionName">
DFANclear</EM>
. </P>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593881_pgfId-12901"></A>	11.6.1	Clearing the DFAN Interface Internal Structures and Settings: DFANclear</H6>
<P CLASS="Body">
<A NAME="50593881_pgfId-12902"></A><EM CLASS="FunctionName">
DFANclear</EM>
 clears all internal library structures and parameters of the DFAN annotation interface.</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-12569"></A>When a file is regenerated in a single run by a library routine of another interface (such as <EM CLASS="FunctionName">
DFSDputdata</EM>
), <EM CLASS="FunctionName">
DFANclear</EM>
 should be called to reset the interface </P>
<P CLASS="Body">
<A NAME="50593881_pgfId-19857"></A>	<EM CLASS="FunctionName">
DFANclear</EM>
 returns <EM CLASS="DefName">
SUCCEED</EM>
 (or <EM CLASS="DefName">
0</EM>
) if successful and <EM CLASS="DefName">
FAIL</EM>
 (or <EM CLASS="DefName">
-1</EM>
) otherwise. <EM CLASS="FunctionName">
DFANclear </EM>
takes no parameters, as described in the following table.</P>
<DIV>
<H6 CLASS="Table">
<A NAME="50593881_pgfId-12883"></A><DIV>
<IMG SRC="UG_html-67.gif" ALT="">
</DIV>
DFANclear<A NAME="50593881_marker-12882"></A> Parameter List</H6>
<TABLE>
<TR>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-16181"></A>Routine Name</P>
<H6 CLASS="ReturnType">
<A NAME="50593881_pgfId-18780"></A>[Return Type]</H6>
<P CLASS="TableHead">
<A NAME="50593881_pgfId-16182"></A>(FORTRAN-77)</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-16184"></A>Parameter</P>
</TD>
<TD ROWSPAN="1" COLSPAN="2">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-16186"></A>Parameter Type</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-16190"></A>Description</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-16196"></A>C</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-16198"></A>FORTRAN-77</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-16202"></A>DFANclear</H6>
<H6 CLASS="ReturnType">
<A NAME="50593881_pgfId-18781"></A>[intn]</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-16203"></A>(daclear)</H6>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16205"></A>None</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16207"></A>None</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16209"></A>None</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-16211"></A>None</P>
</TD>
</TR>
</TABLE>
</DIV>
</DIV>
</DIV>
<DIV>
<H5 CLASS="Heading2">
<A NAME="50593881_pgfId-12517"></A>	11.7	Determinin<A NAME="50593881_marker-12515"></A>g Reference Numbers <DIV>
<IMG SRC="UG_html-66.gif" ALT="">
</DIV>
</H5>
<P CLASS="Body">
<A NAME="50593881_pgfId-4461"></A>It is advisab<A NAME="50593881_marker-12246"></A>le to check the reference number before attempting to assign an object annotation, as the overwriting of reference numbers is not prevented by the HDF library routines. </P>
<P CLASS="Body">
<A NAME="50593881_pgfId-11102"></A>There are three ways to check a reference number for an object:</P>
<UL>
<LI CLASS="Bullet">
<A NAME="50593881_pgfId-4465"></A>Access the object with a read or write operation followed by <EM CLASS="FunctionName">
DF*lastref</EM>
.</LI>
<LI CLASS="Bullet">
<A NAME="50593881_pgfId-4467"></A>Call <EM CLASS="FunctionName">
DFANlablist</EM>
 to return a list of all assigned reference numbers for a given tag.</LI>
<LI CLASS="Bullet">
<A NAME="50593881_pgfId-4469"></A>Call <EM CLASS="FunctionName">
Hfind</EM>
 to locate an object with a given tag/reference number pair.</LI>
</UL>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593881_pgfId-4471"></A>	11.7.1	Determining a Referen<A NAME="50593881_marker-12247"></A>ce Number for the Last Object Accessed: DF*lastref and DF*writeref</H6>
<P CLASS="Body">
<A NAME="50593881_pgfId-4475"></A>There are<A NAME="50593881_marker-12250"></A> two methods of obtaining a reference number through the use of a <EM CLASS="FunctionName">
DF*lastref</EM>
 call. The first approach is to obtain and store the reference number of an object immediately after the object is created:</P>
<DIV>
<H6 CLASS="FM1Step">
<A NAME="50593881_pgfId-4477"></A>Create the data object.</H6>
<OL>
<LI CLASS="Step">
<A NAME="50593881_pgfId-4479"></A>2.	Call <EM CLASS="FunctionName">
DF*lastref</EM>
 to determine its reference number.</LI>
<LI CLASS="Step">
<A NAME="50593881_pgfId-4481"></A>3.	Read or write an object annotation.</LI>
</OL>
<P CLASS="Body">
<A NAME="50593881_pgfId-4483"></A>The second approach is to determine the reference number at some time after the data object is created. This approach requires repeated <EM CLASS="FunctionName">
DF*read</EM>
 calls until the appropriate object is accessed, followed by a call to <EM CLASS="FunctionName">
DF*lastref</EM>
:</P>
</DIV>
<DIV>
<H6 CLASS="FM1Step">
<A NAME="50593881_pgfId-4485"></A>Read the appropriate data object.</H6>
<OL>
<LI CLASS="Step">
<A NAME="50593881_pgfId-4487"></A>2.	Call <EM CLASS="FunctionName">
DF*lastref</EM>
 to determine its reference number.</LI>
<LI CLASS="Step">
<A NAME="50593881_pgfId-4489"></A>3.	Read or write and object annotation.</LI>
</OL>
<P CLASS="Body">
<A NAME="50593881_pgfId-4495"></A>Most HDF interfaces provide one routine that assigns a specified reference number to a data object and another routine that returns the reference number for the last data object accessed. <EM CLASS="Body">
<A HREF="UG_html-11.htm#50593881_33775" CLASS="XRef">List and Descriptions of the DF*writeref and DF*lastref Routines</A></EM>
 However, the SD interface doesn’t. Also, the DFAN annotation doesn’t include a <EM CLASS="FunctionName">
DF*lastref</EM>
 routine.</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-11140"></A>Although <EM CLASS="FunctionName">
DF*writeref</EM>
 calls are designed to assign specific reference numbers, they are not recommended for general use because there is no protection against reassigning an existing reference number and overwriting data. In general, it is better to determine a reference number for a data object by calling <EM CLASS="FunctionName">
DF*lastref</EM>
 immediately after reading or writing a data object.</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-11170"></A>The <EM CLASS="FunctionName">
DF*lastref</EM>
 routines have no parameters. The <EM CLASS="FunctionName">
DF*writeref</EM>
 routines have two: <EM CLASS="VarName">
filename</EM>
, which is the name of the file that contains the data object, and <EM CLASS="VarName">
ref</EM>
, which is the reference number for the next data object read operation.</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-19870"></A>The <EM CLASS="FunctionName">
DF*lastref</EM>
 and <EM CLASS="FunctionName">
DF*writeref</EM>
 routines are further described in the following table.</P>
</DIV>
<DIV>
<H6 CLASS="Table">
<A NAME="50593881_pgfId-4500"></A><DIV>
<IMG SRC="UG_html-67.gif" ALT="">
</DIV>
<A NAME="50593881_33775"></A>List and Descriptions <A NAME="50593881_marker-12254"></A>of the DF*writeref and DF*lastref Routines</H6>
<TABLE>
<TR>
<TH ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-2439"></A>HDF Data Object </P>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-2441"></A>Routine Name</P>
<P CLASS="TableHead">
<A NAME="50593881_pgfId-11149"></A>(FORTRAN-77)</P>
</TH>
<TH ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-2443"></A>Description</P>
</TH>
</TR>
<TR>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableCategory">
<A NAME="50593881_pgfId-2451"></A>8-bit Raster Image</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-2453"></A>DFR8writeref</P>
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-11154"></A>(d8wref)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-2455"></A>Assigns the specified number as the reference number for the next 8-bit raster write operation and updates the write counter to the reflect highest reference number</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-2465"></A>DFR8lastref</P>
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-11155"></A>(d8lref)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-2467"></A>Returns the reference number for the last 8-bit raster image set accessed</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableCategory">
<A NAME="50593881_pgfId-11190"></A>24-bit Raster Image</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-11192"></A>DF24writeref</P>
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-11199"></A>(d2wref)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-11194"></A>Assigns the specified number as the reference number for the next 24-bit raster write operation and updates the write counter to reflect the highest reference number</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-11196"></A>DF24lastref</P>
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-11200"></A>(d2lref)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-11198"></A>Returns the reference number for the last 24-bit raster image set accessed</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableCategory">
<A NAME="50593881_pgfId-2499"></A>Palette</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-2501"></A>DFPwriteref</P>
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-11162"></A>(dpwref)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-2503"></A>Assigns the specified number as the reference number for the next palette write operation and updates the write counter to reflect the highest reference number</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-2513"></A>DFPlastref</P>
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-11163"></A>(dplref)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-2515"></A>Returns the reference number for the last palette accessed</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableCategory">
<A NAME="50593881_pgfId-2523"></A>DFSD Scientific Data </P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-2525"></A>DFSDwriteref</P>
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-11165"></A>(dswref)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-2527"></A>Assigns the specified number as the reference number for the next SDS write operation and updates the write counter to reflect the highest reference number</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-2537"></A>DFSDlastref</P>
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-11164"></A>(dslref)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-2539"></A>Returns the reference number for the last scientific data set accessed</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableCategory">
<A NAME="50593881_pgfId-2559"></A>Annotation</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-2561"></A>DFANlastref</P>
<P CLASS="CellFunction">
<A NAME="50593881_pgfId-11166"></A>(dalref)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-2563"></A>Returns the reference number for the last annotation accessed</P>
</TD>
</TR>
</TABLE>
</DIV>
</DIV>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593881_pgfId-4502"></A>	11.7.2	Queryin<A NAME="50593881_marker-12255"></A>g a List of Reference Numbers for a Given Tag: DFANlablist</H6>
<P CLASS="Body">
<A NAME="50593881_pgfId-4504"></A>Given a tag and tw<A NAME="50593881_marker-12256"></A>o buffers, <EM CLASS="FunctionName">
DFANlablist</EM>
 will fill one buffer with all reference numbers for the given tag and the other with all labels assigned to the given tag. The programming model for determining a list of reference numbers is as follows:</P>
<DIV>
<H6 CLASS="FM1Step">
<A NAME="50593881_pgfId-4508"></A>Determine the number of reference numbers that exist for a given tag.</H6>
<OL>
<LI CLASS="Step">
<A NAME="50593881_pgfId-4510"></A>2.	Allocate a buffer to store the reference numbers.</LI>
<LI CLASS="Step">
<A NAME="50593881_pgfId-4512"></A>3.	Specify the maximum label length.</LI>
<LI CLASS="Step">
<A NAME="50593881_pgfId-4514"></A>4.	Allocate a buffer to store the labels.</LI>
<LI CLASS="Step">
<A NAME="50593881_pgfId-4516"></A>5.	Store the list of reference numbers and their labels.</LI>
</OL>
<P CLASS="Body">
<A NAME="50593881_pgfId-4520"></A>To create a list of reference numbers and their labels for a given tag, the following routines should be called:</P>
<P CLASS="FM1-syntax">
<A NAME="50593881_pgfId-4522"></A><EM CLASS="syntaxLang">
C:</EM>
		num_refs = Hnumber(file_id, tag);</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-4526"></A>		ref_buf = HDmalloc(sizeof(uint16*)*num_refs);</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-4528"></A>		max_lab_len = 16;</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-4530"></A>		label_buf = HDmalloc(max_lab_len * num_refs);</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-4532"></A>		start_pos = 0;</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-4534"></A>		num_of_refs = DFANlablist(filename, tag, ref_buf, label_buf,</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-17306"></A>		num_refs, max_lab_len, </P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-19885"></A>		start_pos);</P>
<P CLASS="FM1-syntax">
<A NAME="50593881_pgfId-19887"></A><EM CLASS="syntaxLang">
FORTRAN:</EM>
	num_refs = hnumber(file_id, tag)</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-4546"></A>		max_lab_len = 16</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-4548"></A>		start_pos = 0</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-4550"></A>		num_of_refs = dallist(filename, tag, ref_buf, label_buf,</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-17309"></A>		num_refs, max_lab_len, start_pos)</P>
<P CLASS="syntax">
<A NAME="50593881_pgfId-13789"></A>&nbsp;</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-4556"></A><EM CLASS="FunctionName">
Hnumber</EM>
 determines how many objects with the specified tag are in a file. It is described in <A HREF="UG_html-2.htm#50593872_13138" CLASS="XRef">HDF Fundamentals</A>.</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-4558"></A><EM CLASS="FunctionName">
DFANlablist</EM>
 has seven parameters: <EM CLASS="VarName">
filename</EM>
, <EM CLASS="VarName">
tag</EM>
, <EM CLASS="VarName">
ref_list</EM>
, <EM CLASS="VarName">
label_buf</EM>
, <EM CLASS="VarName">
num_refs</EM>
, <EM CLASS="VarName">
max_lab_len</EM>
, and <EM CLASS="VarName">
start_pos</EM>
. The <EM CLASS="VarName">
filename</EM>
 parameter specifies the name of the file to search and <EM CLASS="VarName">
tag</EM>
 specifies the search tag to use when creating the reference and label list. The <EM CLASS="VarName">
ref_buf</EM>
 and <EM CLASS="VarName">
label_buf</EM>
 parameters are buffers used to store the reference numbers and labels associated with <EM CLASS="VarName">
tag</EM>
. The <EM CLASS="VarName">
num_ref</EM>
 parameter specifies the length of the reference number list and the <EM CLASS="VarName">
max_lab_len</EM>
 parameter specifies the maximum length of a label. The <EM CLASS="VarName">
start_pos</EM>
 parameter specifies the first label to read. For instance, if <EM CLASS="VarName">
start_pos</EM>
 has a value of <EM CLASS="DefName">
1</EM>
 all labels will be read; if it has a value of <EM CLASS="DefName">
4</EM>
, all but the first three labels will be read. </P>
<P CLASS="Body">
<A NAME="50593881_pgfId-3582"></A>	Taken together, the contents of <EM CLASS="VarName">
ref_list</EM>
 and <EM CLASS="VarName">
label_list</EM>
 constitute a directory of all objects and their labels for a given tag. The contents of <EM CLASS="VarName">
label_list</EM>
 can be displayed to show all of the labels for a given tag or it can be searched to find the reference number of a data object with a certain label. Once the reference number for a given label is found, the corresponding data object can be accessed by invoking other HDF routines. Therefore, this routine provides a mechanism for direct access to data objects in HDF files.</P>
</DIV>
<DIV>
<H6 CLASS="Table">
<A NAME="50593881_pgfId-11431"></A><DIV>
<IMG SRC="UG_html-67.gif" ALT="">
</DIV>
DFANlab<A NAME="50593881_marker-12259"></A>list Parameter List</H6>
<TABLE>
<TR>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-16220"></A>Routine Name</P>
<H6 CLASS="ReturnType">
<A NAME="50593881_pgfId-18782"></A>[Return Type]</H6>
<P CLASS="TableHead">
<A NAME="50593881_pgfId-16221"></A>(FORTRAN-77)</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-16223"></A>Parameter</P>
</TD>
<TD ROWSPAN="1" COLSPAN="2">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-16225"></A>Parameter Type</P>
</TD>
<TD ROWSPAN="2" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-16229"></A>Description</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-16235"></A>C</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableHead">
<A NAME="50593881_pgfId-16237"></A>FORTRAN-77</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="7" COLSPAN="1">
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-16241"></A>DFANlablist</H6>
<H6 CLASS="ReturnType">
<A NAME="50593881_pgfId-18783"></A>[int]</H6>
<H6 CLASS="CellFunctionBold">
<A NAME="50593881_pgfId-16242"></A>(dallist)</H6>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16244"></A>filename</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16246"></A>char *</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16248"></A>character*(*)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-16250"></A>Name of the file to be accessed.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16254"></A>tag</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16256"></A>uint16</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16258"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-16260"></A>Tag assigned to the annotated object.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16264"></A>ref_list</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16266"></A>uint16 []</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16268"></A>integer (*)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-16270"></A>Reference number for the annotated object.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16274"></A>label_list</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16276"></A>char *</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16278"></A>character*(*)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-16280"></A>Buffer for the labels.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16284"></A>list_len</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16286"></A>int</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16288"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-16290"></A>Size of the reference number and label lists.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16294"></A>label_len</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16296"></A>intn</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16298"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-16300"></A>Maximum label length.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16304"></A>start_pos</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16306"></A>intn</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellParameter">
<A NAME="50593881_pgfId-16308"></A>integer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellDescription">
<A NAME="50593881_pgfId-16310"></A>First entry in the reference number and label lists to be returned.</P>
</TD>
</TR>
</TABLE>
</DIV>
<DIV>
<H6 CLASS="Example">
<A NAME="50593881_pgfId-3583"></A><DIV>
<IMG SRC="UG_html-67.gif" ALT="">
</DIV>
Getting a List of Labels for All Scientific Data Sets</H6>
<P CLASS="Body">
<A NAME="50593881_pgfId-5061"></A>These examples illustrate the method used to get a list of all labels used in scientific data sets in an HDF file using <EM CLASS="FunctionName">
DFANlablist</EM>
. The <EM CLASS="DefName">
DFS_MAXLEN</EM>
 definition is located in the &quot;hlimits.h&quot; include file.</P>
</DIV>
</DIV>
</DIV>
</DIV>
<DIV>
<H4 CLASS="Code-C-Title">
<A NAME="50593881_pgfId-5082"></A><DIV>
<IMG SRC="UG_html-68.gif" ALT="">
</DIV>
C:		</H4>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-17579"></A>#include &quot;hdf.h&quot;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18198"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18199"></A>#define LISTSIZE 20</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18200"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18201"></A>main( )</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18202"></A>{</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18203"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18204"></A>	int i, num_of_labels, start_position = 1, list_length = 10;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18205"></A>	uint16 ref_list[LISTSIZE];</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18206"></A>	char label_list[DFS_MAXLEN*LISTSIZE-1];</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18207"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18208"></A>	/* Get the total number of labels in the &quot;Example1.hdf&quot; file. */</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18209"></A>	num_of_labels = DFANlablist(&quot;Example1.hdf&quot;, DFTAG_NDG, ref_list, \</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18210"></A>			  label_list, list_length, DFS_MAXLEN, 		  \</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18211"></A>			  start_position);</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18212"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18213"></A>	/* </P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18214"></A>	* Print the reference numbers and label names for each label</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18215"></A>	* in the list.</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18216"></A>	*/</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18217"></A>	for (i = 0; i &lt; num_of_labels; i++)</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18218"></A>	  printf(&quot;\n\t%d\tRef number: %d\tLabel: %s&quot;, i+1, ref_list[i], \</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18219"></A>	         label_list - (i * 13));</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18220"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18221"></A>	printf(&quot;\n&quot;);</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18222"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18223"></A>}</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18224"></A>&nbsp;</P>
<P CLASS="Body">
<A NAME="50593881_pgfId-26858"></A>&nbsp;</P>
</DIV>
<DIV>
<H4 CLASS="Code-F-Title">
<A NAME="50593881_pgfId-26863"></A><DIV>
<IMG SRC="UG_html-68.gif" ALT="">
</DIV>
FORTRAN: 	</H4>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-14692"></A>	 PROGRAM GET LABEL LIST            </P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18227"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18228"></A>      integer dallist</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18229"></A>      integer*4 DFTAG_NDG, LISTSIZE, DFS_MAXLEN</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18230"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18231"></A>      parameter (DFTAG_NDG = 720,</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18232"></A>     +          LISTSIZE = 20,</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18233"></A>     +          DFS_MAXLEN = 255)</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18234"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18235"></A>      character*60 label_list(DFS_MAXLEN*LISTSIZE)</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18236"></A>      integer i, num_of_labels, start_position, ref_list(DFS_MAXLEN)</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18237"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18238"></A>      start_position = 1</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18239"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18240"></A>      num_of_labels = dallist(’Example1.hdf’, DFTAG_NDG, ref_list,</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18241"></A>     +                        label_list, 10, DFS_MAXLEN, </P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18242"></A>     +                        start_position)</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18243"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18244"></A>      do 10 i = 1, num_of_labels</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18245"></A>        print *,’    Ref number:  ’,ref_list(i),</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18246"></A>     +          ’    Label: ’,label_list(i)</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18247"></A>10    continue</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18248"></A>&nbsp;</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18249"></A>      end</P>
<P CLASS="ExampleCode">
<A NAME="50593881_pgfId-18250"></A>&nbsp;</P>
<DIV>
<H6 CLASS="Heading3">
<A NAME="50593881_pgfId-14693"></A>	11.7.3	<A NAME="50593881_marker-19954"></A>Locate an Object by Its Tag and Reference Number: Hfind</H6>
<P CLASS="Body">
<A NAME="50593881_pgfId-42132"></A>Instead of using <EM CLASS="FunctionName">
DFANlablist</EM>
 to create a list of reference numbers to search, HDF provides a general search routine called <EM CLASS="FunctionName">
Hfind</EM>
. <EM CLASS="FunctionName">
Hfind</EM>
 is described in <A HREF="UG_html-2.htm#50593872_13138" CLASS="XRef">HDF Fundamentals</A>.<A NAME="50593881_marker-42139"></A></P>
<P CLASS="Body">
<A NAME="50593881_pgfId-12984"></A>&nbsp;</P>
<P CLASS="Body">
<A NAME="50593882_pgfId-11392"></A>&nbsp;</P>
</DIV>
</DIV>
<HR><P><table id="Botofpage" border="0" width="850" cellspacing="0" cellpadding="0">      <tr>        <td align="left">        HDF 4.2.12 - June 2016<br/>        <a href="THG_Copyright.html">Copyright</a>        <td align="right">          <span style="font-size: 12px; font-weight: bold">            The HDF Group<br />          </span>          <span style="font-size: 12px">            <a href="http://www.hdfgroup.org">www.hdfgroup.org</a><br />            <img valign="bottom" border="0" src="images/help.jpg" height="12" alt="The HDF Group" valign="top" />          </span>        </td>      </tr>    </table></BODY>
</HTML>
